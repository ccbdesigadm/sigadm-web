{"remainingRequest":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/login/Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/login/Login.vue","mtime":1577225423000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/css-loader/dist/cjs.js","mtime":1569691725000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1569691710000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/postcss-loader/src/index.js","mtime":1569691706000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.back {\n  background-image: url(https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260);\n  background-size: cover;\n}\n#inspire {\n  background: none;\n}\n.custom-loader {\n  animation: loader 1s infinite;\n  display: flex;\n  color: darkgreen;\n}\n@-moz-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-o-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n  <login-patrimonio>\n    \n    <div class=\"login-page\">\n      <div class=\"login-box align-center\">\n        <div class=\"logo\">\n          <a href=\"javascript:void(0);\">SIGADM</a>\n          <!-- RENDERIZANDO UMA STATE VUEX\n          <p>{{ $store.getters.flavor }}</p>\n          -->\n          <span class=\"font-weight-medium white--text font-italic\">Administração do departamento musical</span>\n        </div>\n        <span v-if=\"!recuperarSenha\">\n          <div class=\"card\">\n            <div class=\"body\">\n              <span class=\"msg font-weight-medium blue--text text--darken-4 font-italic\">Iniciar sessão</span>\n              <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                <v-text-field\n                  append-icon=\"fas fa-envelope\"\n                  v-model=\"email\"\n                  label=\"Email\"\n                  :rules=\"emailRules\"\n                  \n                  color=\"light-blue darken-4\"\n                  required\n                ></v-text-field>\n                <v-text-field\n                  color=\"light-blue darken-4\"\n                  type=\"password\"\n                  \n                  v-model=\"accessKey\"\n                  :rules=\"senhaRules\"\n                  label=\"Senha\"\n                  required\n                  append-icon=\"fas fa-lock\"\n                ></v-text-field>  \n                              \n                <v-btn\n                class=\"white--text\"\n                  v-if=\"barra == false\"\n                  type=\"submit\"                  \n                  @click.stop=\"dialog = true\"\n                  @click=\"submit\"\n                  color=\"blue darken-4\"\n                  outline\n                >\n                <v-icon small left dark>fas fa-sign-in-alt</v-icon> \n                  Entrar                 \n                </v-btn>\n              </v-form>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <v-layout row justify-center>\n      <v-dialog v-model=\"barra\" max-width=\"150\" persistent>\n        <v-card>\n          <v-card-title class=\"subheader light-blue darken-4 white--text\">\n            <v-flex align-center>AUTORIZAÇÃO</v-flex>\n          </v-card-title>\n\n          <v-card-text>\n            <v-flex sm12 xs12 md12 lg12 align-center d-flex>\n              <span>\n                <v-progress-circular\n                  :size=\"50\"\n                  :width=\"3\"\n                  color=\"light-blue darken-4\"\n                  indeterminate\n                >\n                  <v-icon small color=\"light-blue darken-4\">fas fa-shield-alt</v-icon>\n                </v-progress-circular>\n                <br />\n                <h5 class=\"light-blue--text text--darken-4\">Verificando...</h5>\n              </span>\n            </v-flex>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </v-layout>\n  </login-patrimonio>\n</template>\n\n<script>\nimport LoginPatrimonio from \"@/templates/LoginPatrimonio.vue\";\nimport swal from \"sweetalert2\";\nimport toast from \"@/Alerts/toast\"\n\nexport default {\n  name: \"Home\",\n  components: { LoginPatrimonio },\n  data() {\n    return {\n      cor: \"\",\n      barra: false,\n      loader: null,\n      loading: false,\n      loading2: false,\n      valid: true,\n      email: \"\",\n      emailRules: [\n        v => !!v || \"E-mail é requerido\",\n        v => /.+@.+/.test(v) || \"E-mail inválido!\"\n      ],\n      senhaRules: [v => !!v || \"Senha é requerida!\"],\n      recuperarSenha: false,\n      accessKey: \"\",\n      acesso: []\n    };\n  },\n  methods: {\n    submit() {\n      //this.acesso = []\n      if (this.$refs.form.validate()) {\n        this.barra = true;\n        this.$http\n          .post(this.$url + \"Login/v1\", {\n            login: this.email,\n            accessKey: this.accessKey\n          })\n          .then(response => {\n            if (response.data.autenticated == true) {\n              //console.log(response);\n              //console.log(\"Autorizado\");\n              sessionStorage.setItem(\"usuario\", JSON.stringify(response.data));\n              if (response.status == 200) {\n                this.$router.push(\"/patrimonio-solicitacoes-emprestimos\");                \n              }\n            } else if (response.data.autenticated == false) {\n              //console.log(response);\n              //console.log(\"Não autorizado\");\n              this.$router.push(\"/\");\n              this.barra = false;\n              const toast = swal.mixin({\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 3000\n              });\n\n              toast({\n                type: \"warning\",\n                title: \"Não autorizado,verifique seus dados!\"\n              });\n            } else {\n              //console.log(response);\n              const toast = swal.mixin({\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 3000\n              });\n\n              toast({\n                type: \"warning\",\n                title: \"Não autorizado,verifique seus dados!\"\n              });\n            }\n          })\n          .catch(e => {\n            //console.error(e);\n            this.barra = false;\n            toast.toast(\"top\",\"error\",\"Atenção\", \"Sem conexão com a internet ou falha do sistema.\");\n          });\n      }\n    },\n    clear() {\n      this.$refs.form.reset();\n    }\n  },\n  watch: {\n    loader() {\n      const l = this.loader;\n      this[l] = !this[l];\n\n      setTimeout(() => (this[l] = false), Infinity);\n\n      this.loader = null;\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.back {\n  background-image: url(https://images.pexels.com/photos/186077/pexels-photo-186077.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260);\n  background-size: cover;\n}\n#inspire {\n  background: none;\n}\n.custom-loader {\n  animation: loader 1s infinite;\n  display: flex;\n  color: darkgreen;\n}\n@-moz-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-o-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>\n"]}]}