{"remainingRequest":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/Setorizacao/Cadastros/IgrejaModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/Setorizacao/Cadastros/IgrejaModal.vue","mtime":1577190729000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport swal from \"sweetalert2\";\n\nexport default {\n  data() {\n    return {\n      dialog: false,\n      modal: false,\n      cod_igreja: null,\n      cep: null,\n      cidade: null,\n      bairro: null,\n      endereco: null,\n      numero: \"\",\n      nomeRelatorio: null,\n      regional: null,\n      local: null,\n      dados: null,\n      errorCEP: \"Digite o cep\",\n      bairroDisable: true,\n      cepDisable: true,\n      enderecoDisable: true,\n      mask_cod_igreja: \"BR-##-####\",\n      regionais: [],\n      encLocais: [],\n      loadingCep: false\n    };\n  },\n  watch: {\n    cep: function() {\n      if (this.cep.length === 8) {\n        this.loadingCep = true;\n        //console.log(\"Buscando endereço\", this.loadingCep);\n        this.$http\n          .get(\"https://viacep.com.br/ws/\" + this.cep + \"/json/\")\n          .then(response => {\n            if (response.status == 200) {\n              this.dados = response.data;\n              //console.log(this.dados);\n              this.cidade = this.dados.localidade;\n              this.bairro = this.dados.bairro;\n              this.endereco = this.dados.logradouro;\n              this.loadingCep = false;\n              if (this.dados.uf == \"RN\") {\n                this.cod_igreja = \"BR-17\";\n              } else {\n                this.cod_igreja = \"BR-17\";\n              }\n            }\n          });\n      }\n      if (this.cep.length < 8) {\n        this.errorCEP = \"CEP Inválido\";\n      } else {\n        this.errorCEP = \"CEP válido\";\n        this.cepDisable = false;\n      }\n    }\n  },\n  methods: {\n    LimparCampos() {\n      this.cod_igreja = null;\n      this.cep = null;\n      this.cidade = null;\n      this.bairro = null;\n      this.endereco = null;\n      this.numero = \"\";\n      this.nomeRelatorio = null;\n      this.regional = null;\n      this.local = null;\n      this.dados = null;\n    },\n    EscolherRegional(regional) {\n      this.regional = regional;\n    },\n    EscolherEncLocal(local) {\n      this.local = local;\n    },\n    CadastrarIgreja() {\n      //console.log(\"cadastrar igreja\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"cadastrar igreja buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        if (this.cod_igreja == \"BR17\" || this.cod_igreja == null) {\n          //console.log(this.cod_igreja);\n          const toast = swal.mixin({\n            toast: true,\n            position: \"top-end\",\n            showConfirmButton: false,\n            timer: 15000\n          });\n\n          toast({\n            type: \"warning\",\n            title:\n              \"Não foi possível cadastrar a igreja\" +\n              \"<br>\" +\n              \"O campo código da igreja ficou incompleto verifique se estar correto!\"\n          });\n          this.dialog = true;\n        } else {\n          if (this.regional != null) {\n            if (this.local != null) {\n              this.$http\n                .post(\n                  this.$url + \"Igreja/v1\",\n                  {\n                    id: 0,\n                    codigo: this.cod_igreja,\n                    cidade: this.cidade,\n                    bairro: this.bairro,\n                    endereco: this.endereco,\n                    cep: this.cep,\n                    numero: this.numero,\n                    nomeRelatorio: this.nomeRelatorio,\n                    encRegional: this.regional,\n                    encLocal: this.local,\n                    launchDate: new Date().toISOString().substr(0, 19)\n                  },\n                  {\n                    headers: {\n                      authorization: \"Bearer \" + this.autorizacao.accessToken\n                    }\n                  }\n                )\n                .then(response => {\n                  if (response.status == 200) {\n                    ////console.log(this.emprestimos);\n                    const toast = swal.mixin({\n                      toast: true,\n                      position: \"top-end\",\n                      showConfirmButton: false,\n                      timer: 15000\n                    });\n\n                    toast({\n                      type: \"sucess\",\n                      title: \"Igreja \" + this.bairro + \"salvo com sucesso.\"\n                    });\n                    this.dialog = false;\n                    this.$emit(\"Igreja\");\n                  }\n                })\n                .catch(e => {\n                  swal.fire(\n                    \"Descupe,mas não foi possivel salvar igreja!\",\n                    \"Entre em contato com a equipe de desenvolvimento para resolver esse problema.\",\n                    \"warning\"\n                  );\n\n                  //console.log(\"Erro no emprestimo\");\n                  //console.error(e);\n                  //console.data(e.data);\n                });\n            } else {\n              const toast = swal.mixin({\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 15000\n              });\n\n              toast({\n                type: \"warning\",\n                title:\n                  \"Não foi possível cadastrar a igreja\" +\n                  \"<br>\" +\n                  \"Selecione um encarregado local para salvar a igreja!\"\n              });\n              this.dialog = true;\n            }\n          } else {\n            const toast = swal.mixin({\n              toast: true,\n              position: \"top-end\",\n              showConfirmButton: false,\n              timer: 15000\n            });\n\n            toast({\n              type: \"warning\",\n              title:\n                \"Não foi possível cadastrar a igreja\" +\n                \"<br>\" +\n                \"Selecione um encarregado regional para salvar a igreja!\"\n            });\n            this.dialog = true;\n          }\n        }\n      }\n    },\n    BuscarEncarregados() {\n      //console.log(\"buscar regional\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"regional buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        this.$http\n          .get(this.$url + \"Usuario/v1\", {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          })\n          .then(response => {\n            if (response.status == 200) {\n              this.regionais = [];\n              response.data.forEach(element => {\n                if (element.cargo == \"Encarregado Regional\") {\n                  this.regionais.push({ nome: element.nome });\n                } else if (element.cargo == \"Encarregado Local\") {\n                  this.encLocais.push({ nome: element.nome });\n                }\n              });\n              this.regionais.push({ nome: \"Sem encarregado\" });\n              this.regionais.reverse();\n              this.encLocais.push({ nome: \"Sem encarregado\" });\n              this.encLocais.reverse();\n              ////console.log(this.emprestimos);\n            }\n          })\n          .catch(e => {\n            swal.fire(\n              \"Descupe,mas não foi possivel buscar encarregados!\",\n              \"Entre em contato com a euqipe de desenvolviemnto para resolver esse problema.\",\n              \"warning\"\n            );\n\n            //console.log(\"Erro no emprestimo\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    },\n    BuscarEncLocal() {\n      //console.log(\"buscar local\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"local buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        this.$http\n          .get(this.$url + \"EncarregadoLocal/v1\", {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          })\n          .then(response => {\n            if (response.status == 200) {\n              this.encLocais = [];\n              this.encLocais = response.data;\n              this.encLocais.push({ nome: \"Sem encarregado\" });\n              this.encLocais.reverse();\n              ////console.log(this.emprestimos);\n            }\n          })\n          .catch(e => {\n            swal.fire(\n              \"Descupe,mas não foi possivel buscar encarregados locais!\",\n              \"Entre em contato com a euqipe de desenvolviemnto para resolver esse problema.\",\n              \"warning\"\n            );\n\n            //console.log(\"Erro no encarregado local\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    },\n    Loading(title, icon) {\n      swal.fire({\n        title: title,\n        html:\n          \"Por favor só um momento... \" + '<i class=\"fas fa-' + icon + \"></i>\",\n        timer: 3000,\n        onOpen: () => {\n          swal.enableLoading();\n        }\n      });\n    },\n    Salvo(title, msg, type) {\n      swal.fire(title, msg, type);\n    },\n    formatDate(date) {\n      if (!date) return null;\n\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    }\n  }\n};\n",{"version":3,"sources":["IgrejaModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"IgrejaModal.vue","sourceRoot":"src/pages/Modulos/Patrimonio/Setorizacao/Cadastros","sourcesContent":["<template>\n  <v-layout>\n    <v-dialog v-model=\"dialog\" persistent max-width=\"800px\">\n      <v-btn flat dark color=\"blue darken-4\" @click=\"BuscarEncarregados()\" slot=\"activator\" outline>\n        <v-icon>fas fa-place-of-worship</v-icon>\n        <span class=\"pl-2\">\n          <b>Cadastrar igreja</b>\n        </span>\n      </v-btn>\n      <v-card>\n        <v-flex xs12 sm12>\n          <div class=\"pt-1\">\n            <v-btn\n              right\n              class=\"white--text\"\n              small\n              fab\n              round\n              box\n              color=\"red darken-1\"\n              absolute\n              v-on:click=\"dialog = false, LimparCampos()\"\n            >\n              <v-icon>close</v-icon>\n            </v-btn>\n          </div>\n        </v-flex>\n        <v-card-title>\n          <v-flex xs12 sm12 md12 lg12 align-center>\n            <span class=\"font-weight-bold headline blue--text text--darken-4\">Cadastrar igreja</span>\n          </v-flex>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12 sm12 md3>\n                <v-text-field\n                  v-model=\"cep\"\n                  box\n                  color=\"blue darken-4\"\n                  append-icon=\"fas fa-envelope-open\"\n                  label=\"Cep *\"\n                  required\n                  mask=\"##-###-###\"\n                  :hint=\"errorCEP\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md4>\n                <v-text-field\n                  v-model=\"cidade\"\n                  box\n                  color=\"blue darken-4\"\n                  append-icon=\"fas fa-map-marker-alt\"\n                  label=\"Cidade *\"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md5>\n                <v-text-field\n                  v-model=\"bairro\"\n                  box\n                  color=\"blue darken-4\"\n                  append-icon=\"fas fa-map-marker\"\n                  label=\"Bairro - Localidade * \"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md9>\n                <v-text-field\n                  v-model=\"endereco\"\n                  box\n                  color=\"blue darken-4\"\n                  append-icon=\"fas fa-map-marked-alt\"\n                  label=\"Rua *\"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md3>\n                <v-text-field\n                  v-model=\"numero\"\n                  box\n                  color=\"blue darken-3\"\n                  append-icon=\"fas fa-home\"\n                  label=\"Número \"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md6>\n                <v-text-field\n                  v-model=\"nomeRelatorio\"\n                  box\n                  append-icon=\"fas fa-book\"\n                  color=\"blue darken-4\"\n                  label=\"Nome no relatório *\"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm12 md6>\n                <v-text-field\n                  v-model=\"cod_igreja\"\n                  :mask=\"mask_cod_igreja\"\n                  box\n                  append-icon=\"fas fa-book\"\n                  color=\"blue darken-4\"\n                  label=\"Código no relatório *\"\n                  required\n                  :readonly=\"cepDisable\"\n                ></v-text-field>\n              </v-flex>\n              <v-flex xs10 sm10 md6>\n                <v-autocomplete\n                  v-model=\"regional\"\n                  :items=\"regionais\"\n                  box\n                  label=\"Encarregado regional *\"\n                  item-text=\"nome\"\n                  item-value=\"nome\"\n                  color=\"blue darken-4\"\n                  single-line\n                  append-icon=\"fas fa-slash\"\n                  :readonly=\"cepDisable\"\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.nome }}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10>\n                      <v-list-tile>\n                        <v-list-tile-content\n                          @click=\"EscolherRegional(data.item.nome)\"\n                          v-html=\"data.item.nome\"\n                        ></v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs10 sm10 md6>\n                <v-autocomplete\n                  v-model=\"local\"\n                  :items=\"encLocais\"\n                  box\n                  label=\"Encarregado local *\"\n                  item-text=\"nome\"\n                  item-value=\"nome\"\n                  color=\"blue darken-4\"\n                  single-line\n                  append-icon=\"fas fa-slash\"\n                  :readonly=\"cepDisable\"\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.nome }}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10>\n                      <v-list-tile>\n                        <v-list-tile-content\n                          @click=\"EscolherEncLocal(data.item.nome)\"\n                          v-html=\"data.item.nome\"\n                        ></v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-flex xs12 sm12 md12 lg12 align-center class=\"mb-4\">\n            <v-btn\n              color=\"green darken-4\"\n              center\n              class=\"white--text\"\n              v-on:click=\"CadastrarIgreja()\"\n            >salvar igreja</v-btn>\n          </v-flex>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"loadingCep\" width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline blue darken-4 white--text\" primary-title>Só um momento ...</v-card-title>\n\n        <v-card-text>\n          <v-flex sm12 xs12 md12 lg12 align-center d-flex>\n            <span>\n              <v-progress-circular\n                :size=\"50\"\n                color=\"blue darken-4\"\n                indeterminate\n                :width=\"3\"\n                class=\"align-center mt-4 mb-4\"\n              >\n                <v-icon color=\"blue darken-4\">fas fa-user-maps</v-icon>\n              </v-progress-circular>\n              <br />\n              <small class=\"blue--text text--darken-4\">BUSCANDO ENDEREÇO...</small>\n            </span>\n          </v-flex>\n        </v-card-text>\n        <v-divider></v-divider>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n<script>\nimport swal from \"sweetalert2\";\n\nexport default {\n  data() {\n    return {\n      dialog: false,\n      modal: false,\n      cod_igreja: null,\n      cep: null,\n      cidade: null,\n      bairro: null,\n      endereco: null,\n      numero: \"\",\n      nomeRelatorio: null,\n      regional: null,\n      local: null,\n      dados: null,\n      errorCEP: \"Digite o cep\",\n      bairroDisable: true,\n      cepDisable: true,\n      enderecoDisable: true,\n      mask_cod_igreja: \"BR-##-####\",\n      regionais: [],\n      encLocais: [],\n      loadingCep: false\n    };\n  },\n  watch: {\n    cep: function() {\n      if (this.cep.length === 8) {\n        this.loadingCep = true;\n        //console.log(\"Buscando endereço\", this.loadingCep);\n        this.$http\n          .get(\"https://viacep.com.br/ws/\" + this.cep + \"/json/\")\n          .then(response => {\n            if (response.status == 200) {\n              this.dados = response.data;\n              //console.log(this.dados);\n              this.cidade = this.dados.localidade;\n              this.bairro = this.dados.bairro;\n              this.endereco = this.dados.logradouro;\n              this.loadingCep = false;\n              if (this.dados.uf == \"RN\") {\n                this.cod_igreja = \"BR-17\";\n              } else {\n                this.cod_igreja = \"BR-17\";\n              }\n            }\n          });\n      }\n      if (this.cep.length < 8) {\n        this.errorCEP = \"CEP Inválido\";\n      } else {\n        this.errorCEP = \"CEP válido\";\n        this.cepDisable = false;\n      }\n    }\n  },\n  methods: {\n    LimparCampos() {\n      this.cod_igreja = null;\n      this.cep = null;\n      this.cidade = null;\n      this.bairro = null;\n      this.endereco = null;\n      this.numero = \"\";\n      this.nomeRelatorio = null;\n      this.regional = null;\n      this.local = null;\n      this.dados = null;\n    },\n    EscolherRegional(regional) {\n      this.regional = regional;\n    },\n    EscolherEncLocal(local) {\n      this.local = local;\n    },\n    CadastrarIgreja() {\n      //console.log(\"cadastrar igreja\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"cadastrar igreja buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        if (this.cod_igreja == \"BR17\" || this.cod_igreja == null) {\n          //console.log(this.cod_igreja);\n          const toast = swal.mixin({\n            toast: true,\n            position: \"top-end\",\n            showConfirmButton: false,\n            timer: 15000\n          });\n\n          toast({\n            type: \"warning\",\n            title:\n              \"Não foi possível cadastrar a igreja\" +\n              \"<br>\" +\n              \"O campo código da igreja ficou incompleto verifique se estar correto!\"\n          });\n          this.dialog = true;\n        } else {\n          if (this.regional != null) {\n            if (this.local != null) {\n              this.$http\n                .post(\n                  this.$url + \"Igreja/v1\",\n                  {\n                    id: 0,\n                    codigo: this.cod_igreja,\n                    cidade: this.cidade,\n                    bairro: this.bairro,\n                    endereco: this.endereco,\n                    cep: this.cep,\n                    numero: this.numero,\n                    nomeRelatorio: this.nomeRelatorio,\n                    encRegional: this.regional,\n                    encLocal: this.local,\n                    launchDate: new Date().toISOString().substr(0, 19)\n                  },\n                  {\n                    headers: {\n                      authorization: \"Bearer \" + this.autorizacao.accessToken\n                    }\n                  }\n                )\n                .then(response => {\n                  if (response.status == 200) {\n                    ////console.log(this.emprestimos);\n                    const toast = swal.mixin({\n                      toast: true,\n                      position: \"top-end\",\n                      showConfirmButton: false,\n                      timer: 15000\n                    });\n\n                    toast({\n                      type: \"sucess\",\n                      title: \"Igreja \" + this.bairro + \"salvo com sucesso.\"\n                    });\n                    this.dialog = false;\n                    this.$emit(\"Igreja\");\n                  }\n                })\n                .catch(e => {\n                  swal.fire(\n                    \"Descupe,mas não foi possivel salvar igreja!\",\n                    \"Entre em contato com a equipe de desenvolvimento para resolver esse problema.\",\n                    \"warning\"\n                  );\n\n                  //console.log(\"Erro no emprestimo\");\n                  //console.error(e);\n                  //console.data(e.data);\n                });\n            } else {\n              const toast = swal.mixin({\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 15000\n              });\n\n              toast({\n                type: \"warning\",\n                title:\n                  \"Não foi possível cadastrar a igreja\" +\n                  \"<br>\" +\n                  \"Selecione um encarregado local para salvar a igreja!\"\n              });\n              this.dialog = true;\n            }\n          } else {\n            const toast = swal.mixin({\n              toast: true,\n              position: \"top-end\",\n              showConfirmButton: false,\n              timer: 15000\n            });\n\n            toast({\n              type: \"warning\",\n              title:\n                \"Não foi possível cadastrar a igreja\" +\n                \"<br>\" +\n                \"Selecione um encarregado regional para salvar a igreja!\"\n            });\n            this.dialog = true;\n          }\n        }\n      }\n    },\n    BuscarEncarregados() {\n      //console.log(\"buscar regional\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"regional buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        this.$http\n          .get(this.$url + \"Usuario/v1\", {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          })\n          .then(response => {\n            if (response.status == 200) {\n              this.regionais = [];\n              response.data.forEach(element => {\n                if (element.cargo == \"Encarregado Regional\") {\n                  this.regionais.push({ nome: element.nome });\n                } else if (element.cargo == \"Encarregado Local\") {\n                  this.encLocais.push({ nome: element.nome });\n                }\n              });\n              this.regionais.push({ nome: \"Sem encarregado\" });\n              this.regionais.reverse();\n              this.encLocais.push({ nome: \"Sem encarregado\" });\n              this.encLocais.reverse();\n              ////console.log(this.emprestimos);\n            }\n          })\n          .catch(e => {\n            swal.fire(\n              \"Descupe,mas não foi possivel buscar encarregados!\",\n              \"Entre em contato com a euqipe de desenvolviemnto para resolver esse problema.\",\n              \"warning\"\n            );\n\n            //console.log(\"Erro no emprestimo\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    },\n    BuscarEncLocal() {\n      //console.log(\"buscar local\");\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      var id_emprestimo_buscado;\n      if (!autorizacaoAux) {\n        swal.fire(\n          \"Sua autorização expirou!\",\n          \"Entre com suas credencias novamente.\",\n          \"warning\"\n        );\n        this.$router.push(\"/\");\n      }\n      if (autorizacaoAux) {\n        //console.log(\"local buscando\");\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        ////console.log(\"entrou no cadastro de devolucao\");\n        this.$http\n          .get(this.$url + \"EncarregadoLocal/v1\", {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          })\n          .then(response => {\n            if (response.status == 200) {\n              this.encLocais = [];\n              this.encLocais = response.data;\n              this.encLocais.push({ nome: \"Sem encarregado\" });\n              this.encLocais.reverse();\n              ////console.log(this.emprestimos);\n            }\n          })\n          .catch(e => {\n            swal.fire(\n              \"Descupe,mas não foi possivel buscar encarregados locais!\",\n              \"Entre em contato com a euqipe de desenvolviemnto para resolver esse problema.\",\n              \"warning\"\n            );\n\n            //console.log(\"Erro no encarregado local\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    },\n    Loading(title, icon) {\n      swal.fire({\n        title: title,\n        html:\n          \"Por favor só um momento... \" + '<i class=\"fas fa-' + icon + \"></i>\",\n        timer: 3000,\n        onOpen: () => {\n          swal.enableLoading();\n        }\n      });\n    },\n    Salvo(title, msg, type) {\n      swal.fire(title, msg, type);\n    },\n    formatDate(date) {\n      if (!date) return null;\n\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    }\n  }\n};\n</script>\n<style>\n.mesmo-tamanho {\n  width: 100%;\n  white-space: normal;\n}\n</style>\n"]}]}