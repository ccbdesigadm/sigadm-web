{"remainingRequest":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Inicio/Instrumento/InstrumentoModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Inicio/Instrumento/InstrumentoModal.vue","mtime":1579226339000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport swal from \"sweetalert2\";\nimport PdfView from \"@/pages/Modulos/Patrimonio/Instrumento/Inicio/PDF\";\n\nexport default {\n  data: () => ({\n    dialog: false,\n    show: false,\n    showMenu: false,\n    url: \"\",\n    emprestimos: [],\n    o_emprestimo: [{ id: 1, nome: \"joel\" }, { id: 2, nome: \"maykon\" }],\n    items: [\n      {\n        color: \"red lighten-2\",\n        icon: \"mdi-star\"\n      },\n      {\n        color: \"purple darken-1\",\n        icon: \"mdi-book-variant\"\n      },\n      {\n        color: \"green lighten-1\",\n        icon: \"mdi-airballoon\"\n      },\n      {\n        color: \"indigo\",\n        icon: \"mdi-buffer\"\n      }\n    ],\n    componentes: []\n  }),\n  components:{PdfView},\n  computed: {\n    computedDateFormatted() {\n      return this.formatDate(this.data_emprestimo);\n    }\n  },\n  watch: {\n    date(val) {\n      this.dateFormatted = this.formatDate(this.data_emprestimo);\n    }\n  },\n  props: [\n    \"tombamento_instrumento\",\n    \"nome_instrumento\",\n    \"ano_instrumento\",\n    \"marca_instrumento\",\n    \"caracteristica_instrumento\",\n    \"componentes_instrumento\",\n    \"status_instrumento\"\n  ],\n  created() {\n    this.url = \"static/images/\" + this.nome_instrumento + \".png\";\n  },\n  methods: {\n    listaComponente() {\n      //console.log(this.componentes_instrumento);\n      //console.log(this.componentes);\n      var result = this.componentes_instrumento.split(\",\");\n      this.componentes = [];\n      result.forEach(element => {\n        //console.log(element);\n        this.componentes.push(element);\n      });\n    },\n    formatDate(date) {\n      if (!date) return null;\n\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    },\n    fechar() {\n      this.dialog = false;\n    },\n    BuscarEmprestimos(tombamento) {\n      this.emprestimos = [];\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      if (!usuarioAutorize) {\n        this.$router.push(\"/\");\n        const toast = swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n\n        toast({\n          type: \"error\",\n          title: \"Sem autorização, entre com seus dados novamente!\"\n        });\n      } else if (usuarioAutorize) {\n        this.autorizacao = JSON.parse(usuarioAutorize);\n        this.$http\n          .get(\n            this.$url +\n              \"EmprestimoInstrumento/v1/buscar-emprestimo?tombamento=\" +\n              tombamento,\n            {\n              headers: {\n                authorization: \"Bearer \" + this.autorizacao.accessToken\n              }\n            }\n          )\n          .then(response => {\n            ////console.log(response.status);\n            if (response.status == 200) {\n              this.emprestimos = response.data;\n              this.emprestimos = this.emprestimos.reverse();\n            } else if (response.status == 401) {\n              this.$router.push(\"/\");\n            }\n            ////console.log(response.data);\n          })\n          .catch(e => {\n            swal.fire(\n              \"Sua autorização expirou!\",\n              \"Entre com suas credencias novamente.\",\n              \"warning\"\n            );\n            this.$router.push(\"/\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    }\n  }\n};\n",{"version":3,"sources":["InstrumentoModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2YA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InstrumentoModal.vue","sourceRoot":"src/pages/Modulos/Patrimonio/Instrumento/Inicio/Instrumento","sourcesContent":["<template>\n  <v-layout row justify-center xs12>\n    <v-dialog v-model=\"dialog\" persistent max-width=\"800px\">\n      <v-btn slot=\"activator\" round outline color=\"blue darken-3\" dark>\n        <small>detalhes</small>\n        <v-icon right small>fas fa-info</v-icon>\n      </v-btn>\n      <v-flex xs12 sm12>\n        <v-card>\n          <v-card color=\"white lighten-2\" class=\"white--text\">\n            <v-toolbar color=\"teal lighten-2\" height=\"90\">\n              <v-flex xs12 sm12 md12 lg12 align-center class=\"pt-3\">\n                <v-toolbar-title>\n                  <v-avatar size=\"50px\" class=\"white\">\n                    <v-img :src=\"url\" alt=\"Avatar\" max-height=\"150\" contain></v-img>\n                  </v-avatar>\n                  <p class=\"white--text\">{{nome_instrumento}} - {{tombamento_instrumento}}</p>\n                </v-toolbar-title>\n              </v-flex>\n              <v-spacer></v-spacer>\n              <v-toolbar-items class=\"hidden-sm-and-down\">\n                <v-btn\n                  right\n                  class=\"white--text\"\n                  small\n                  fab\n                  @click=\"fechar\"\n                  round\n                  color=\"red darken-4\"\n                  absolute\n                >\n                  <v-icon>close</v-icon>\n                </v-btn>\n              </v-toolbar-items>\n            </v-toolbar>\n          </v-card>\n\n          <v-card-title primary-title>\n            <v-flex xs12 sm12 md12 lg12>\n              <div class=\"headline font-weight-light align-center teal--text text--darken-3\">Ficha</div>\n              <p class=\"align-center teal--text text--darken-3\">Bem Patrimonial</p>\n              <v-divider></v-divider>\n            </v-flex>\n           \n            <v-container fill-height row>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-avatar size=\"200\" color=\"grey lighten-4\">\n                  <v-flex xs12 sm4 md4 lg4>\n                    <v-layout column>\n                      <v-flex xs12 sm12 md12 lg12 align-center>\n                        <v-avatar>\n                          <v-icon color=\"orange darken-3\">fas fa-guitar</v-icon>\n                        </v-avatar>\n                      </v-flex>\n                      <div\n                        class=\"body-1 font-weight-light text-md-center teal--text text--darken-3\"\n                      >Nome</div>\n                      <div\n                        class=\"text-uppercase font-weight-light text-md-center\"\n                      >{{nome_instrumento}}</div>\n                    </v-layout>\n                  </v-flex>\n                </v-avatar>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-avatar size=\"200\" color=\"blue-grey lighten-5\">\n                  <v-flex xs12 sm4 md4 lg4>\n                    <v-layout column>\n                      <v-flex xs12 sm12 md12 lg12 align-center>\n                        <v-avatar>\n                          <v-icon color=\"blue darken-3\">fas fa-calendar-check</v-icon>\n                        </v-avatar>\n                      </v-flex>\n                      <div\n                        class=\"body-1 font-weight-light align-center teal--text text--darken-3\"\n                      >Ano</div>\n                      <div class=\"text-uppercase font-weight-light align-center\">{{ano_instrumento}}</div>\n                    </v-layout>\n                  </v-flex>\n                </v-avatar>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-avatar size=\"200\" color=\"grey lighten-4\">\n                  <v-flex xs12 sm4 dm4 lg4>\n                    <v-flex xs12 sm12 md12 lg12 align-center>\n                      <v-avatar>\n                        <v-icon color=\"blue-grey lighten-3\">fas fa-marker</v-icon>\n                      </v-avatar>\n                    </v-flex>\n                    <v-layout column>\n                      <div\n                        class=\"body-1 font-weight-light text-md-center teal--text text--darken-3\"\n                      >Marca</div>\n                      <div\n                        class=\"text-uppercase font-weight-light text-md-center\"\n                      >{{marca_instrumento}}</div>\n                    </v-layout>\n                  </v-flex>\n                </v-avatar>\n              </v-flex>\n            </v-container>\n            <v-container fill-height row>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-avatar size=\"200\" color=\"blue-grey lighten-5\">\n                  <v-flex xs12 sm4 md4 lg4>\n                    <v-layout column>\n                      <v-flex xs12 sm12 md12 lg12 align-center>\n                        <v-avatar>\n                          <v-icon color=\"black darken-3\">fas fa-music</v-icon>\n                        </v-avatar>\n                      </v-flex>\n                      <div\n                        class=\"body-1 font-weight-light text-md-center teal--text text--darken-3\"\n                      >Caracteristica Tonalidade</div>\n                      <div\n                        class=\"text-uppercase font-weight-light text-md-center\"\n                      >{{caracteristica_instrumento}}</div>\n                    </v-layout>\n                  </v-flex>\n                </v-avatar>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-avatar size=\"200\" color=\"grey lighten-4\">\n                  <v-flex xs12 sm4 md4 lg4>\n                    <v-layout column>\n                      <v-flex xs12 sm12 md12 lg12 align-center>\n                        <v-avatar>\n                          <v-icon color=\"green darken-3\">fas fa-barcode</v-icon>\n                        </v-avatar>\n                      </v-flex>\n                      <v-flex xs12 sm4>\n                        <div\n                          class=\"body-1 font-weight-light align-center teal--text text--darken-3\"\n                        >Tombamento</div>\n                        <div\n                          class=\"text-uppercase font-weight-light align-center\"\n                        >{{tombamento_instrumento}}</div>\n                      </v-flex>\n                    </v-layout>\n                  </v-flex>\n                </v-avatar>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 align-center>\n                <v-menu\n                  v-model=\"showMenu\"\n                  absolute\n                  offset-y\n                  style=\"max-width: 600px\"\n                  origin=\"center center\"\n                  transition=\"scale-transition\"\n                >\n                  <template v-slot:activator=\"{ on }\">\n                    <v-avatar size=\"200\" color=\"blue-grey lighten-5\" v-on=\"on\">\n                      <v-flex xs12 sm4 md4 lg4>\n                        <v-layout column justify-end>\n                          <v-flex xs12 sm4>\n                            <v-flex xs12 sm12 md12 lg12 align-center>\n                              <v-avatar>\n                                <v-icon color=\"brown darken-1\" class=\"mt-5\">far fa-list-alt</v-icon>\n                              </v-avatar>\n                            </v-flex>\n                            <div\n                              class=\"body-1 font-weight-light align-center mt-4 teal--text text--darken-3\"\n                            >Componentes</div>\n                            <v-btn flat small right center @click=\"listaComponente()\" class=\"mb-3\">\n                              <small>\n                                visualizar\n                                <v-icon small right>fas fa-eye</v-icon>\n                              </small>\n                            </v-btn>\n                          </v-flex>\n                        </v-layout>\n                      </v-flex>\n                    </v-avatar>\n                  </template>\n\n                  <v-list>\n                    <v-list-tile>\n                      <v-flex xs12 sm12 md12 lg12 align-center>\n                        <p class=\"text-uppercase teal--text text--darken-3\">detalhes</p>\n                        <v-divider></v-divider>\n                      </v-flex>\n                    </v-list-tile>\n                    <v-list-tile v-for=\"(item) in componentes\" :key=\"item\">\n                      <v-list-tile-title>{{ item }}</v-list-tile-title>\n                    </v-list-tile>\n                  </v-list>\n                </v-menu>\n              </v-flex>\n            </v-container>\n          </v-card-title>\n          <v-card-actions class=\"align-center\">\n            <v-flex xs12 sm12 md12 lg12 align-center>\n              <v-btn\n                class=\"ml-4\"\n                center\n                round\n                outline\n                color=\"teal darken-3\"\n                right\n                @click=\"show = !show, BuscarEmprestimos(tombamento_instrumento)\"\n              >\n                {{ show ? 'Ocultar' : 'Mostrar' }} Histórico\n                <v-icon right>{{ show ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}</v-icon>\n              </v-btn>\n            </v-flex>\n          </v-card-actions>\n          <v-slide-y-transition>\n            <v-card-text v-show=\"show\" class=\"py-0 align-center\">\n              <v-flex sm12 md12 xs12 lg12>\n                <p class=\"subheading align-center\">Histórico</p>\n              </v-flex>\n              <v-divider></v-divider>\n              <v-timeline>\n                <v-timeline-item\n                  v-show=\"item.status == '2'\"\n                  v-for=\"(item, i) in emprestimos\"\n                  :key=\"i.id\"\n                  color=\"red accent-4\"\n                  icon=\"close\"\n                  large\n                >\n                  <template v-slot:opposite>\n                    <span>Data do Empréstimo {{formatDate(item.emprestimoDate.substr(0, 10))}}</span>\n                  </template>\n                  <v-card class=\"elevation-2 white--text\" color=\"red darken-2\">\n                    <v-flex xms12 sm12 md12 lg12 align-center class=\"pt-3\">\n                      <v-avatar size=\"50px\" class=\"white\">\n                        <img src=\"https://randomuser.me/api/portraits/men/85.jpg\">\n                      </v-avatar>\n                      <p class=\"headline\">{{item.nome}}</p>\n                    </v-flex>\n                    <v-card-text>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Comum congregação\n                            <br>\n                            {{item.congregacao}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Encarregado Regional\n                            <br>\n                            {{item.encarregadoRegional}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Encarregado Local\n                            <br>\n                            {{item.encarregado}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\" v-if=\"item.observacoes != ''\">\n                        <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                          <span>\n                            <p>\n                              Observações\n                              <br>\n                              {{item.observacoes}}\n                            </p>\n                          </span>\n                        </v-flex>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\" v-if=\"item.status == 3\">\n                        <span>\n                          <p>\n                            Data da devolução\n                            <br>\n                            {{formatDate(item.devolucaoDate.substr(0, 10))}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\" v-if=\"item.status == 2\">\n                        <span>\n                          <p>\n                            Data devolução\n                            <br>\n                            <span class=\"white--text\">EMPRESTIMO EM ABERTO</span>\n                          </p>\n                        </span>\n                      </v-flex>\n                    </v-card-text>\n                  </v-card>\n                </v-timeline-item>\n                <v-timeline-item\n                  v-show=\"item.status == '3'\"\n                  v-for=\"(item, i) in emprestimos\"\n                  :key=\"i.id\"\n                  color=\"green accent-4\"\n                  icon=\"done\"\n                  large\n                >\n                  <template v-slot:opposite>\n                    <span>Data de Empréstimo {{formatDate(item.emprestimoDate.substr(0, 10))}}</span>\n                  </template>\n                  <v-card class=\"elevation-2\" color=\"green darken-2\">\n                   <v-flex xms12 sm12 md12 lg12 align-center class=\"pt-3\">\n                      <v-avatar size=\"50px\" class=\"white\">\n                        <img src=\"https://randomuser.me/api/portraits/men/85.jpg\">\n                      </v-avatar>\n                      <p class=\"headline\">{{item.nome}}</p>\n                    </v-flex>\n                    <v-card-text>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Comum congregação\n                            <br>\n                            {{item.congregacao}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Encarregado Regional\n                            <br>\n                            {{item.encarregadoRegional}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\">\n                        <span>\n                          <p>\n                            Encarregado Local\n                            <br>\n                            {{item.encarregado}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\" v-if=\"item.status == 3\">\n                        <span>\n                          <p>\n                            Data devolução\n                            <br>\n                            {{formatDate(item.devolucaoDate.substr(0, 10))}}\n                          </p>\n                        </span>\n                      </v-flex>\n                      <v-flex xs12 sm12 md12 lg12 class=\"align-left\" v-if=\"item.status == 2\">\n                        <span>\n                          <p>\n                            Data devolução\n                            <br>\n                            <span class=\"red--text\">EMPRESTIMO EM ABERTO</span>\n                          </p>\n                        </span>\n                      </v-flex>\n                    </v-card-text>\n                  </v-card>\n                </v-timeline-item>\n              </v-timeline>\n            </v-card-text>\n          </v-slide-y-transition>\n        </v-card>\n        <v-card color=\"white lighten-2\" class=\"white--text\">\n          <v-toolbar color=\"teal lighten-2\" height=\"90\">\n            <v-flex xs12 sm12 md12 lg12 align-center class=\"pt-3\">\n              <v-toolbar-title>\n                <v-avatar size=\"50px\" class=\"white\">\n                  <v-img :src=\"url\" alt=\"Avatar\" max-height=\"150\" contain></v-img>\n                </v-avatar>\n                <p class=\"white--text\">{{nome_instrumento}} - {{tombamento_instrumento}}</p>\n              </v-toolbar-title>\n            </v-flex>\n            <v-spacer></v-spacer>\n            <v-toolbar-items class=\"hidden-sm-and-down\">\n              <v-btn\n                right\n                class=\"white--text\"\n                small\n                fab\n                @click=\"fechar\"\n                round\n                color=\"red darken-1\"\n                absolute\n              >\n                <v-icon>close</v-icon>\n              </v-btn>\n            </v-toolbar-items>\n          </v-toolbar>\n        </v-card>\n      </v-flex>\n    </v-dialog>\n  </v-layout>\n</template>\n<script>\nimport swal from \"sweetalert2\";\nimport PdfView from \"@/pages/Modulos/Patrimonio/Instrumento/Inicio/PDF\";\n\nexport default {\n  data: () => ({\n    dialog: false,\n    show: false,\n    showMenu: false,\n    url: \"\",\n    emprestimos: [],\n    o_emprestimo: [{ id: 1, nome: \"joel\" }, { id: 2, nome: \"maykon\" }],\n    items: [\n      {\n        color: \"red lighten-2\",\n        icon: \"mdi-star\"\n      },\n      {\n        color: \"purple darken-1\",\n        icon: \"mdi-book-variant\"\n      },\n      {\n        color: \"green lighten-1\",\n        icon: \"mdi-airballoon\"\n      },\n      {\n        color: \"indigo\",\n        icon: \"mdi-buffer\"\n      }\n    ],\n    componentes: []\n  }),\n  components:{PdfView},\n  computed: {\n    computedDateFormatted() {\n      return this.formatDate(this.data_emprestimo);\n    }\n  },\n  watch: {\n    date(val) {\n      this.dateFormatted = this.formatDate(this.data_emprestimo);\n    }\n  },\n  props: [\n    \"tombamento_instrumento\",\n    \"nome_instrumento\",\n    \"ano_instrumento\",\n    \"marca_instrumento\",\n    \"caracteristica_instrumento\",\n    \"componentes_instrumento\",\n    \"status_instrumento\"\n  ],\n  created() {\n    this.url = \"static/images/\" + this.nome_instrumento + \".png\";\n  },\n  methods: {\n    listaComponente() {\n      //console.log(this.componentes_instrumento);\n      //console.log(this.componentes);\n      var result = this.componentes_instrumento.split(\",\");\n      this.componentes = [];\n      result.forEach(element => {\n        //console.log(element);\n        this.componentes.push(element);\n      });\n    },\n    formatDate(date) {\n      if (!date) return null;\n\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    },\n    fechar() {\n      this.dialog = false;\n    },\n    BuscarEmprestimos(tombamento) {\n      this.emprestimos = [];\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      if (!usuarioAutorize) {\n        this.$router.push(\"/\");\n        const toast = swal.mixin({\n          toast: true,\n          position: \"top-end\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n\n        toast({\n          type: \"error\",\n          title: \"Sem autorização, entre com seus dados novamente!\"\n        });\n      } else if (usuarioAutorize) {\n        this.autorizacao = JSON.parse(usuarioAutorize);\n        this.$http\n          .get(\n            this.$url +\n              \"EmprestimoInstrumento/v1/buscar-emprestimo?tombamento=\" +\n              tombamento,\n            {\n              headers: {\n                authorization: \"Bearer \" + this.autorizacao.accessToken\n              }\n            }\n          )\n          .then(response => {\n            ////console.log(response.status);\n            if (response.status == 200) {\n              this.emprestimos = response.data;\n              this.emprestimos = this.emprestimos.reverse();\n            } else if (response.status == 401) {\n              this.$router.push(\"/\");\n            }\n            ////console.log(response.data);\n          })\n          .catch(e => {\n            swal.fire(\n              \"Sua autorização expirou!\",\n              \"Entre com suas credencias novamente.\",\n              \"warning\"\n            );\n            this.$router.push(\"/\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    }\n  }\n};\n</script>\n<style type=\"text/css\">\ndiv.fixar {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>\n\n"]}]}