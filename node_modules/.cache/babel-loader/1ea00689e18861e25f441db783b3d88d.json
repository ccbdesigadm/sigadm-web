{"remainingRequest":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js!/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Cadastro/CadDoacao_sem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Cadastro/CadDoacao_sem.vue","mtime":1569691366103},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629983},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710961}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"/home/joel/Projetos/Web/sigadm-web/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport swal from \"sweetalert2\";\nimport SelecionarOrigemSem from \"@/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Origem/SelecaoOrigem\";\nimport CadTermos from \"@/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Termos/CadastroTermos\";\nexport default {\n  name: \"CadDoacao\",\n  components: {\n    SelecionarOrigemSem: SelecionarOrigemSem,\n    CadTermos: CadTermos\n  },\n  data: function data() {\n    return {\n      checkbox1: false,\n      label: 'Marque para sem data',\n      com_data: true,\n      enabled: false,\n      dialog_doacao: \"\",\n      modal_doacao: false,\n      data_doacao: new Date().toISOString().substr(0, 10),\n      origem_instrumento: \"\",\n      origem: null,\n      observacao_instrumento: \"\",\n      dialog: false,\n      items: [{\n        id: 1,\n        icon: true,\n        title: \"Documento\"\n      }]\n    };\n  },\n  created: function created() {},\n  props: [\"numero_do_instrumento\"],\n  computed: {\n    computedDateFormatted: function computedDateFormatted() {\n      return this.formatDate(this.data_doacao);\n    }\n  },\n  watch: {\n    date: function date(val) {\n      this.dateFormatted = this.formatDate(this.data_doacao);\n    }\n  },\n  methods: {\n    dataActive: function dataActive() {\n      if (this.checkbox1 == false) {\n        this.label = \"Marque para sem data\";\n        this.com_data = true;\n      } else if (this.checkbox1 == true) {\n        this.label = \"Desmarque para com data\";\n        this.com_data = false;\n      }\n    },\n    criarDoc: function criarDoc() {\n      if (this.items.length < 6) {\n        this.items.push({\n          id: this.items.length + 1,\n          icon: true,\n          title: \"Documento\"\n        });\n        var toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: \"success\",\n          title: \"Adicionado um novo campo de anexo de documento\" //Colocar uma seta para o botão sair\n\n        });\n      } else {\n        var _toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n\n        _toast({\n          type: \"warning\",\n          title: \"Quantidade permitida é de \" + this.items.length + \" campos\" //Colocar uma seta para o botão sair\n\n        });\n      }\n    },\n    removeDoc: function removeDoc(id) {\n      if (id > -1) {\n        this.items.forEach(function (element) {//console.log(\"ID: \", element.id);\n        }); //console.log(\"ID: \", id);\n\n        var i = this.items.map(function (item) {\n          return item.id;\n        }).indexOf(id);\n        this.items.splice(i, 1); //console.log(\"ID removido: \", i + 1);\n\n        this.items.forEach(function (element) {//console.log(element.id);\n        });\n        var toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: \"warning\",\n          title: \"Removido o documento \" //Colocar uma seta para o botão sair\n\n        });\n      } else {\n        var _toast2 = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n\n        _toast2({\n          type: \"error\",\n          title: \"Não é permitido remover este campo.\" //Colocar uma seta para o botão sair\n\n        });\n      }\n    },\n    SelecionarOrigemDoInstrumento: function SelecionarOrigemDoInstrumento(payload) {\n      //console.log(\"antes: \", this.origem);\n      this.origem = payload.origem; //console.log(\"depois: \", this.origem);\n    },\n    CadastrarDoacao: function CadastrarDoacao() {\n      var _this = this;\n\n      /*console.log(\n        this.data_doacao,\n        this.origem_instrumento,\n        this.observacao_instrumento,\n        this.numero_do_instrumento\n      );*/\n      var autorizacaoAux = sessionStorage.getItem(\"usuario\");\n\n      if (autorizacaoAux) {\n        this.autorizacao = JSON.parse(autorizacaoAux); //console.log(\"entrou no cadastro doacao\");\n\n        this.$http.post(this.$url + \"DoacaoInstrumento/v1\", {\n          id: 0,\n          tombamento: this.numero_do_instrumento,\n          origem: this.origem,\n          observacao: this.observacao_instrumento,\n          dataDoacao: this.data_doacao,\n          launchDate: new Date().toISOString().substr(0, 19)\n        }, {\n          headers: {\n            authorization: \"Bearer \" + this.autorizacao.accessToken\n          }\n        }).then(function (response) {\n          if (response.status == 200) {\n            //console.log(\"doação cadastrada\");\n            _this.$emit(\"cadastrarInstrumentos\");\n          } //console.log(response.data);\n\n        }).catch(function (e) {\n          swal.fire(\"Sua autorização expirou!\", \"Entre com suas credencias novamente.\", \"warning\");\n\n          _this.$router.push(\"/\"); //console.error(e);\n          //console.data(e.data);\n\n        });\n      }\n    },\n    SemDataDoacao: function SemDataDoacao() {\n      this.com_data = !this.com_data;\n\n      if (this.com_data == false) {\n        this.data_doacao = new Date(1970, 0, 1).toISOString().substr(0, 10);\n        swal.fire(\"Atenção!\", \"O instrumento não terá data de doação registrada!\", \"warning\");\n      } else {\n        this.data_doacao = new Date().toISOString().substr(0, 10);\n      } //console.log(this.data_doacao);\n      //console.log(this.data_doacao_sem_definicao);\n\n    },\n    formatDate: function formatDate(date) {\n      if (!date) return null;\n\n      var _date$split = date.split(\"-\"),\n          _date$split2 = _slicedToArray(_date$split, 3),\n          year = _date$split2[0],\n          month = _date$split2[1],\n          day = _date$split2[2];\n\n      return \"\".concat(day, \"/\").concat(month, \"/\").concat(year);\n    }\n  }\n};",{"version":3,"sources":["CadDoacao_sem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container fluid grid-list-xl>    \n    <v-layout align-center wrap>\n      <v-flex md2>\n        <v-checkbox color=\"green\" v-model=\"checkbox1\" class=\"pb-4 subheading\"  :label=\"label\" @change=\"dataActive\"></v-checkbox>\n      </v-flex>\n      <v-flex xs12 sm12 md2 v-show=\"com_data == true\">                 \n        <v-dialog\n          ref=\"dialog_doacao\"\n          v-model=\"modal_doacao\"\n          :return-value.sync=\"data_doacao\"\n          persistent\n          lazy          \n          full-width\n          width=\"290px\"\n          color=\"blue lighten-2\"\n        >\n        \n          <v-text-field\n            slot=\"activator\"\n            v-model=\"computedDateFormatted\"\n            label=\"Data da doação *\"\n            append-icon=\"event\"\n            readonly\n            hint\n            single-line=\"\"\n            persistent-hint\n            box\n            color=\"blue lighten-2\"\n          ></v-text-field>          \n          <v-date-picker v-model=\"data_doacao\" scrollable locale=\"pt-BR\">\n            <v-spacer></v-spacer>\n            <v-btn flat color=\"primary\" @click=\"modal_doacao = false\">Cancelar</v-btn>\n            <v-btn flat color=\"primary\" @click=\"$refs.dialog_doacao.save(data_doacao)\">OK</v-btn>\n          </v-date-picker>\n        </v-dialog>        \n      </v-flex>\n      <selecionar-origem-sem @origem_instrumento=\"SelecionarOrigemDoInstrumento\"></selecionar-origem-sem>\n      <v-flex xs12 sm12 md4 v-if=\"com_data == true\">\n        <v-text-field\n          append-icon=\"fas fa-eye\"\n          v-model=\"observacao_instrumento\"\n          box\n          label=\"Observações\"\n          color=\"teal darken-3\"\n        ></v-text-field>\n      </v-flex>\n      <v-flex xs12 sm12 md6 v-if=\"com_data == false\">\n        <v-text-field\n          append-icon=\"fas fa-eye\"\n          v-model=\"observacao_instrumento\"\n          box\n          label=\"Observações\"\n          color=\"teal darken-3\"\n        ></v-text-field>\n      </v-flex>      \n    </v-layout>\n    <cad-termos\n      v-on:cadastrarDoacao=\"CadastrarDoacao\"\n      v-bind:numero_tombamento=\"numero_do_instrumento\"\n    ></cad-termos>\n  </v-container>\n</template>\n<script type=\"text/babel\">\nimport swal from \"sweetalert2\";\nimport SelecionarOrigemSem from \"@/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Origem/SelecaoOrigem\";\nimport CadTermos from \"@/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Termos/CadastroTermos\";\nexport default {\n  name: \"CadDoacao\",\n  components: { SelecionarOrigemSem, CadTermos },\n  data() {\n    return {\n      checkbox1:false,\n      label:'Marque para sem data',\n      com_data: true,\n      enabled: false,\n      dialog_doacao: \"\",\n      modal_doacao: false,\n      data_doacao: new Date().toISOString().substr(0, 10),\n      origem_instrumento: \"\",\n      origem:null,\n      observacao_instrumento: \"\",\n      dialog: false,\n      items: [{ id: 1, icon: true, title: \"Documento\" }]\n    };\n  },\n  created() {},\n  props: [\"numero_do_instrumento\"],\n  computed: {\n    computedDateFormatted() {\n      return this.formatDate(this.data_doacao);\n    }\n  },\n  watch: {\n    date(val) {\n      this.dateFormatted = this.formatDate(this.data_doacao);\n    }\n  },\n  methods: {\n    dataActive(){\n     if (this.checkbox1 == false) {\n       this.label = \"Marque para sem data\"\n       this.com_data = true\n     }else if(this.checkbox1 == true){\n       this.label = \"Desmarque para com data\"\n       this.com_data = false\n     }\n    },\n    criarDoc() {\n      if (this.items.length < 6) {\n        this.items.push({\n          id: this.items.length + 1,\n          icon: true,\n          title: \"Documento\"\n        });\n        const toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: \"success\",\n          title: \"Adicionado um novo campo de anexo de documento\"\n          //Colocar uma seta para o botão sair\n        });\n      } else {\n        const toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: \"warning\",\n          title: \"Quantidade permitida é de \" + this.items.length + \" campos\"\n          //Colocar uma seta para o botão sair\n        });\n      }\n    },\n    removeDoc(id) {\n      if (id > -1) {\n        this.items.forEach(element => {\n          //console.log(\"ID: \", element.id);\n        });\n        //console.log(\"ID: \", id);\n        let i = this.items.map(item => item.id).indexOf(id);\n        this.items.splice(i, 1);\n        //console.log(\"ID removido: \", i + 1);\n        this.items.forEach(element => {\n          //console.log(element.id);\n        });\n        const toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 3000\n        });\n        toast({\n          type: \"warning\",\n          title: \"Removido o documento \"\n          //Colocar uma seta para o botão sair\n        });\n      } else {\n        const toast = swal.mixin({\n          toast: true,\n          position: \"center\",\n          showConfirmButton: false,\n          timer: 2000\n        });\n        toast({\n          type: \"error\",\n          title: \"Não é permitido remover este campo.\"\n          //Colocar uma seta para o botão sair\n        });\n      }\n    },\n    SelecionarOrigemDoInstrumento(payload) {\n      //console.log(\"antes: \", this.origem);\n      this.origem =payload.origem;\n      //console.log(\"depois: \", this.origem);\n    },\n\n    CadastrarDoacao() {\n      /*console.log(\n        this.data_doacao,\n        this.origem_instrumento,\n        this.observacao_instrumento,\n        this.numero_do_instrumento\n      );*/\n      let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n      if (autorizacaoAux) {\n        this.autorizacao = JSON.parse(autorizacaoAux);\n        //console.log(\"entrou no cadastro doacao\");\n        this.$http\n          .post(\n            this.$url + \"DoacaoInstrumento/v1\",\n            {\n              id: 0,\n              tombamento: this.numero_do_instrumento,\n              origem: this.origem,\n              observacao: this.observacao_instrumento,\n              dataDoacao: this.data_doacao,\n              launchDate: new Date().toISOString().substr(0, 19)\n            },\n            {\n              headers: {\n                authorization: \"Bearer \" + this.autorizacao.accessToken\n              }\n            }\n          )\n          .then(response => {\n            if (response.status == 200) {\n              //console.log(\"doação cadastrada\");\n              this.$emit(\"cadastrarInstrumentos\");\n            }\n            //console.log(response.data);\n          })\n          .catch(e => {\n            swal.fire(\n              \"Sua autorização expirou!\",\n              \"Entre com suas credencias novamente.\",\n              \"warning\"\n            );\n            this.$router.push(\"/\");\n            //console.error(e);\n            //console.data(e.data);\n          });\n      }\n    },\n    SemDataDoacao() {\n      this.com_data = !this.com_data;\n      if (this.com_data == false) {\n        this.data_doacao = new Date(1970, 0, 1).toISOString().substr(0, 10);\n        swal.fire(\n          \"Atenção!\",\n          \"O instrumento não terá data de doação registrada!\",\n          \"warning\"\n        );\n      } else {\n        this.data_doacao = new Date().toISOString().substr(0, 10);\n      }\n      //console.log(this.data_doacao);\n      //console.log(this.data_doacao_sem_definicao);\n    },\n    formatDate(date) {\n      if (!date) return null;\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    }\n  }\n};\n</script>\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":"src/pages/Modulos/Patrimonio/CadastroInstrumento/Doacao/Cadastro"}]}