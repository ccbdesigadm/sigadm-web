{"remainingRequest":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js!/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarInstrumentoModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarInstrumentoModal.vue","mtime":1577194563499},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629983},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710961}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"/home/joel/Projetos/Web/sigadm-web/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport swal from \"sweetalert2\";\nimport CadDoacao from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarDoacaoModal\";\nimport CadCompra from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarCompraModal\";\nimport StoreInstrumento from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeInstrumento\";\nimport StoreDoacao from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeDoacao\";\nimport StoreCompra from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeCompra\";\nexport default {\n  components: {\n    CadDoacao: CadDoacao,\n    CadCompra: CadCompra\n  },\n  data: function data() {\n    return {\n      nome: null,\n      nomes: [],\n      naipe: null,\n      ano: null,\n      anos: [],\n      tombamento: null,\n      tombamentos: [],\n      caracteristica: null,\n      caracteristicas: [],\n      marca: null,\n      marcas: [],\n      componente: null,\n      componentes: [],\n      data_nascimento: null,\n      dialog: false,\n      observacao: \"Sem observações\",\n      editar: false\n    };\n  },\n  watch: {\n    dialog: function dialog() {\n      if (this.dialog == true) {\n        this.Fechar();\n        this.CarregarDados();\n      }\n    }\n  },\n  methods: {\n    Editar: function Editar() {\n      this.editar = true;\n    },\n    NaoEditar: function NaoEditar() {\n      this.editar = false;\n    },\n    SalvarCompraInstrumento: function SalvarCompraInstrumento() {\n      var _this = this;\n\n      var Usuario = sessionStorage.getItem(\"usuario\");\n      var autorizacao = JSON.parse(Usuario);\n      this.$http.post(this.$url + \"Instrumento/v1\", {\n        id: 0,\n        nome: this.nome.nome,\n        ano: this.ano,\n        status: \"1\",\n        aquisicao: \"2\",\n        tombamento: this.tombamento,\n        componentes: this.componente.toString(),\n        caracteristica: this.caracteristica,\n        marca: this.marca,\n        descricao: this.descricao,\n        launchDate: new Date().toISOString().substr(0, 19)\n      }, {\n        headers: {\n          authorization: \"Bearer \" + autorizacao.accessToken\n        }\n      }).then(function (response) {\n        ////console.log(response.status);\n        if (response.status == 200) {\n          //console.log(response.data);\n          _this.AtualizarStatusTombamento(_this.tombamento);\n        }\n      }).catch(function (e) {//console.error(e);\n        //console.data(e.data);\n      });\n    },\n    AtualizarStatusTombamento: function AtualizarStatusTombamento(tombamento) {\n      var Usuario = sessionStorage.getItem(\"usuario\");\n      var autorizacao = JSON.parse(Usuario);\n      this.$http.put(this.$url + \"TombamentoInstrumento/v1/selecionar-tombamento?tombamento=\" + tombamento, {\n        headers: {\n          authorization: \"Bearer \" + autorizacao.accessToken\n        }\n      }).then(function (response) {\n        ////console.log(response.status);\n        if (response.status == 200) {//console.log(response.data);\n        }\n      }).catch(function (e) {//console.error(e);\n        //console.data(e.data);\n      });\n    },\n    Fechar: function Fechar() {\n      this.ano = null;\n      this.nome = null;\n      this.tombamento = null;\n      this.marca = null;\n      this.componente = null;\n      this.caracteristica = null;\n      this.observacao = \"Sem observações\";\n    },\n    CarregarDados: function CarregarDados() {\n      var _this2 = this;\n\n      StoreInstrumento.state.anos.forEach(function (element) {\n        _this2.anos.push({\n          id: element.id,\n          numeroAno: element.numeroAno\n        });\n      });\n      StoreInstrumento.state.nomes.forEach(function (element) {\n        _this2.nomes.push({\n          id: element.id,\n          nome: element.nome,\n          naipe: element.naipe\n        });\n      });\n      this.tombamentos = [];\n      this.tombamentos = StoreInstrumento.state.tombamentos; //console.log(StoreInstrumento.state.tombamentos);\n\n      StoreInstrumento.state.marcas.forEach(function (element) {\n        _this2.marcas.push({\n          id: element.id,\n          marca: element.marca\n        });\n      });\n      StoreInstrumento.state.componentes.forEach(function (element) {\n        _this2.componentes.push({\n          id: element.id,\n          componente: element.componente\n        });\n      });\n      StoreDoacao.dispatch(\"BuscandoOrigensInstrumentos\");\n      StoreCompra.dispatch(\"BuscandoEmpresasInstrumentos\");\n    },\n    EscolherNaipe: function EscolherNaipe(payload) {\n      var _this3 = this;\n\n      var Usuario = sessionStorage.getItem(\"usuario\");\n      var autorizacao = JSON.parse(Usuario);\n      this.$http.get(this.$url + \"CaracteristicaInstrumento/v1/buscar-caracteristica-por-naipe?naipe=\" + payload, {\n        headers: {\n          authorization: \"Bearer \" + autorizacao.accessToken\n        }\n      }).then(function (response) {\n        ////console.log(response.status);\n        if (response.status == 200) {\n          ////console.log(response.data)\n          _this3.caracteristicas = response.data;\n        }\n      }).catch(function (e) {//console.error(e);\n        //console.data(e.data);\n      });\n    },\n    formatDate: function formatDate(date) {\n      if (!date) return null;\n\n      var _date$split = date.split(\"-\"),\n          _date$split2 = _slicedToArray(_date$split, 3),\n          year = _date$split2[0],\n          month = _date$split2[1],\n          day = _date$split2[2];\n\n      return \"\".concat(day, \"/\").concat(month, \"/\").concat(year);\n    }\n  }\n};",{"version":3,"sources":["CadastrarInstrumentoModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8YA,OAAA,IAAA,MAAA,aAAA;AACA,OAAA,SAAA,MAAA,uEAAA;AACA,OAAA,SAAA,MAAA,uEAAA;AACA,OAAA,gBAAA,MAAA,yEAAA;AACA,OAAA,WAAA,MAAA,oEAAA;AACA,OAAA,WAAA,MAAA,oEAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,SAAA,EAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,GAAA,EAAA,IAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA,EAPA;AAQA,MAAA,cAAA,EAAA,IARA;AASA,MAAA,eAAA,EAAA,EATA;AAUA,MAAA,KAAA,EAAA,IAVA;AAWA,MAAA,MAAA,EAAA,EAXA;AAYA,MAAA,UAAA,EAAA,IAZA;AAaA,MAAA,WAAA,EAAA,EAbA;AAcA,MAAA,eAAA,EAAA,IAdA;AAeA,MAAA,MAAA,EAAA,KAfA;AAgBA,MAAA,UAAA,EAAA,iBAhBA;AAiBA,MAAA,MAAA,EAAA;AAjBA,KAAA;AAmBA,GAzBA;AA0BA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,UAAA,KAAA,MAAA,IAAA,IAAA,EAAA;AACA,aAAA,MAAA;AACA,aAAA,aAAA;AACA;AACA;AANA,GA1BA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KANA;AAOA,IAAA,uBAPA,qCAOA;AAAA;;AACA,UAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA,WAAA,KAAA,CACA,IADA,CAEA,KAAA,IAAA,GAAA,gBAFA,EAGA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAAA,CAAA,IAFA;AAGA,QAAA,GAAA,EAAA,KAAA,GAHA;AAIA,QAAA,MAAA,EAAA,GAJA;AAKA,QAAA,SAAA,EAAA,GALA;AAMA,QAAA,UAAA,EAAA,KAAA,UANA;AAOA,QAAA,WAAA,EAAA,KAAA,UAAA,CAAA,QAAA,EAPA;AAQA,QAAA,cAAA,EAAA,KAAA,cARA;AASA,QAAA,KAAA,EAAA,KAAA,KATA;AAUA,QAAA,SAAA,EAAA,KAAA,SAVA;AAWA,QAAA,UAAA,EAAA,IAAA,IAAA,GAAA,WAAA,GAAA,MAAA,CAAA,CAAA,EAAA,EAAA;AAXA,OAHA,EAgBA;AACA,QAAA,OAAA,EAAA;AAAA,UAAA,aAAA,EAAA,YAAA,WAAA,CAAA;AAAA;AADA,OAhBA,EAoBA,IApBA,CAoBA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,yBAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,OA1BA,EA2BA,KA3BA,CA2BA,UAAA,CAAA,EAAA,CACA;AACA;AACA,OA9BA;AA+BA,KAzCA;AA0CA,IAAA,yBA1CA,qCA0CA,UA1CA,EA0CA;AACA,UAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA,WAAA,KAAA,CACA,GADA,CAEA,KAAA,IAAA,GACA,4DADA,GAEA,UAJA,EAKA;AACA,QAAA,OAAA,EAAA;AAAA,UAAA,aAAA,EAAA,YAAA,WAAA,CAAA;AAAA;AADA,OALA,EASA,IATA,CASA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA,CACA;AACA;AACA,OAdA,EAeA,KAfA,CAeA,UAAA,CAAA,EAAA,CACA;AACA;AACA,OAlBA;AAmBA,KAhEA;AAiEA,IAAA,MAjEA,oBAiEA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,iBAAA;AACA,KAzEA;AA0EA,IAAA,aA1EA,2BA0EA;AAAA;;AACA,MAAA,gBAAA,CAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AAAA,UAAA,EAAA,EAAA,OAAA,CAAA,EAAA;AAAA,UAAA,SAAA,EAAA,OAAA,CAAA;AAAA,SAAA;AACA,OAFA;AAGA,MAAA,gBAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,EAAA,EAAA,OAAA,CAAA,EADA;AAEA,UAAA,IAAA,EAAA,OAAA,CAAA,IAFA;AAGA,UAAA,KAAA,EAAA,OAAA,CAAA;AAHA,SAAA;AAKA,OANA;AAOA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,gBAAA,CAAA,KAAA,CAAA,WAAA,CAZA,CAaA;;AACA,MAAA,gBAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AAAA,UAAA,EAAA,EAAA,OAAA,CAAA,EAAA;AAAA,UAAA,KAAA,EAAA,OAAA,CAAA;AAAA,SAAA;AACA,OAFA;AAGA,MAAA,gBAAA,CAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,IAAA,CAAA;AACA,UAAA,EAAA,EAAA,OAAA,CAAA,EADA;AAEA,UAAA,UAAA,EAAA,OAAA,CAAA;AAFA,SAAA;AAIA,OALA;AAMA,MAAA,WAAA,CAAA,QAAA,CAAA,6BAAA;AACA,MAAA,WAAA,CAAA,QAAA,CAAA,8BAAA;AACA,KAnGA;AAoGA,IAAA,aApGA,yBAoGA,OApGA,EAoGA;AAAA;;AACA,UAAA,OAAA,GAAA,cAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA,WAAA,KAAA,CACA,GADA,CAEA,KAAA,IAAA,GACA,qEADA,GAEA,OAJA,EAKA;AAAA,QAAA,OAAA,EAAA;AAAA,UAAA,aAAA,EAAA,YAAA,WAAA,CAAA;AAAA;AAAA,OALA,EAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,eAAA,GAAA,QAAA,CAAA,IAAA;AACA;AACA,OAbA,EAcA,KAdA,CAcA,UAAA,CAAA,EAAA,CACA;AACA;AACA,OAjBA;AAkBA,KAzHA;AA0HA,IAAA,UA1HA,sBA0HA,IA1HA,EA0HA;AACA,UAAA,CAAA,IAAA,EAAA,OAAA,IAAA;;AADA,wBAEA,IAAA,CAAA,KAAA,CAAA,GAAA,CAFA;AAAA;AAAA,UAEA,IAFA;AAAA,UAEA,KAFA;AAAA,UAEA,GAFA;;AAGA,uBAAA,GAAA,cAAA,KAAA,cAAA,IAAA;AACA;AA9HA;AAlCA,CAAA","sourcesContent":["<template>\n  <v-layout>\n    <v-dialog v-model=\"dialog\" persistent max-width=\"950px\">\n      <v-btn flat dark color=\"blue darken-4\" slot=\"activator\" outline>\n        <v-icon>fas fa-music</v-icon>\n        <span class=\"pl-2\"><b>Cadastrar instrumento</b></span>        \n      </v-btn>\n      <v-card>\n        <v-flex xs12 sm12>\n          <div class=\"pt-1\">\n            <v-btn\n              right\n              class=\"white--text\"\n              small\n              fab\n              round\n              box\n              color=\"red darken-1\"\n              absolute\n              v-on:click=\"dialog = false, Fechar()\"\n            >\n              <v-icon>close</v-icon>\n            </v-btn>\n          </div>\n        </v-flex>\n        <v-card-title>\n          <v-flex xs12 sm12 md12 lg12 align-center>\n            <span class=\"font-weight-bold headline blue--text text--darken-4\">Cadastrar instrumento</span>\n          </v-flex>\n        </v-card-title>\n        <v-card-text v-if=\"editar == false\">\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"nome\"\n                  :items=\"nomes\"\n                  label=\"Nome do instrumento\"\n                  item-text=\"nome\"\n                  item-value=\"nome\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                  :return-object=\"true\"\n                >\n                  <template v-slot:selection=\"data\">{{ data.item.nome}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex\n                      xs10\n                      sm10\n                      :key=\"JSON.stringify(data.item.id)\"\n                      @click=\"EscolherNaipe(data.item.naipe)\"\n                    >\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.nome}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>             \n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"ano\"\n                  :items=\"anos\"\n                  label=\"Ano de fabricação\"\n                  item-text=\"numeroAno\"\n                  item-value=\"numeroAno\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.numeroAno}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.numeroAno}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"tombamento\"\n                  :items=\"tombamentos\"\n                  label=\"Número de tombamento\"\n                  item-text=\"numero\"\n                  item-value=\"numero\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.numero}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.numero}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"caracteristica\"\n                  :items=\"caracteristicas\"\n                  label=\"Característica/Tonalidade\"\n                  item-text=\"caracteristica\"\n                  item-value=\"caracteristica\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.caracteristica}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.caracteristica}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"marca\"\n                  :items=\"marcas\"\n                  label=\"Marca do instrumento\"\n                  item-text=\"marca\"\n                  item-value=\"marca\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.marca}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.marca}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs12 sm12 md4 lg4 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"componente\"\n                  :items=\"componentes\"\n                  item-text=\"componente\"\n                  item-value=\"componente\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                  label=\"Componentes do instrumento\"\n                  multiple\n                  deletable-chips\n                  chips\n                  :rules=\"[() => !!componentes || 'Este campo precisa ser selecionado!']\"\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">\n                    <v-chip color=\"blue darken-4\" text-color=\"white\">{{data.item.componente}}</v-chip>\n                  </template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.componente}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex xs12 sm12 md12 d-flex>\n                <v-textarea\n                  v-model=\"observacao\"\n                  :counter=\"1000\"\n                  append-icon=\"fas fa-eye\"\n                  box\n                  rows=\"2\"\n                  outline\n                  label=\"Observações\"\n                ></v-textarea>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n         <v-card-text v-if=\"editar == true\">\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"nome\"\n                  :items=\"nomes\"\n                  label=\"Nome do instrumento\"\n                  item-text=\"nome\"\n                  item-value=\"nome\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                  :return-object=\"true\"\n                >\n                  <template v-slot:selection=\"data\">{{ data.item.nome}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex\n                      xs10\n                      sm10\n                      :key=\"JSON.stringify(data.item.id)\"\n                      @click=\"EscolherNaipe(data.item.naipe)\"\n                    >\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.nome}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n               <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"ano\"\n                  :items=\"anos\"\n                  label=\"Ano de fabricação\"\n                  item-text=\"numeroAno\"\n                  item-value=\"numeroAno\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.numeroAno}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.numeroAno}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"tombamento\"\n                  :items=\"tombamentos\"\n                  label=\"Número de tombamento\"\n                  item-text=\"numero\"\n                  item-value=\"numero\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.numero}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.numero}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"caracteristica\"\n                  :items=\"caracteristicas\"\n                  label=\"Característica/Tonalidade\"\n                  item-text=\"caracteristica\"\n                  item-value=\"caracteristica\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.caracteristica}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.caracteristica}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"marca\"\n                  :items=\"marcas\"\n                  label=\"Marca do instrumento\"\n                  item-text=\"marca\"\n                  item-value=\"marca\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">{{ data.item.marca}}</template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.marca}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md3 lg3 class=\"pl-2\">\n                <v-autocomplete\n                  v-model=\"componente\"\n                  :items=\"componentes\"\n                  item-text=\"componente\"\n                  item-value=\"componente\"\n                  color=\"blue darken-4\"\n                  single-line\n                  box\n                  label=\"Componentes do instrumento\"\n                  multiple\n                  deletable-chips\n                  chips\n                  :rules=\"[() => !!componentes || 'Este campo precisa ser selecionado!']\"\n                >\n                  <template slot=\"selection\" slot-scope=\"data\">\n                    <v-chip color=\"blue darken-4\" text-color=\"white\">{{data.item.componente}}</v-chip>\n                  </template>\n                  <template slot=\"item\" slot-scope=\"data\">\n                    <v-flex xs10 sm10 :key=\"JSON.stringify(data.item.id)\">\n                      <v-list-tile>\n                        <v-list-tile-content>{{data.item.componente}}</v-list-tile-content>\n                      </v-list-tile>\n                    </v-flex>\n                  </template>\n                </v-autocomplete>\n              </v-flex>\n              <v-flex sm1>\n                <v-btn fab small color=\"blue darken-4\" outline><v-icon>add</v-icon></v-btn>\n              </v-flex>\n              <v-flex xs12 sm12 md12 d-flex>\n                <v-textarea\n                  v-model=\"observacao\"\n                  :counter=\"1000\"\n                  append-icon=\"fas fa-eye\"\n                  box\n                  rows=\"2\"\n                  outline\n                  label=\"Observações\"\n                ></v-textarea>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-flex sm12 md4 lg4 offset-sm1>\n            <v-btn color=\"orange\" outline class=\"white--text\" v-if=\"editar == false\" @click=\"Editar\">\n              <small>Editar </small>\n              <v-icon right>fas fa-edit</v-icon>\n            </v-btn>\n            <v-btn color=\"orange\"  class=\"white--text\" v-if=\"editar == true\" @click=\"NaoEditar\">\n              <small>Não Editar </small>\n              <v-icon right>fas fa-edit</v-icon>\n            </v-btn>\n          </v-flex>\n          <v-flex sm12 md4 lg4>\n            <!--v-btn\n              color=\"indigo darken-4\"\n              center\n              class=\"white--text\"              \n            >Registrar compra\n            <v-icon right color=\"white\">fas fa-shopping-cart</v-icon>\n            </v-btn-->\n            <cad-doacao :tombamento=\"tombamento\"></cad-doacao>\n          </v-flex>\n          <v-flex sm12 md4 lg4>\n            <!--v-btn\n              color=\"indigo darken-4\"\n              center\n              class=\"white--text\"              \n            >Registrar compra\n            <v-icon right color=\"white\">fas fa-shopping-cart</v-icon>\n            </v-btn-->\n            <cad-compra\n              :numero_tombamento=\"tombamento\"\n              @SalvarInstrumento=\"SalvarCompraInstrumento\"\n            ></cad-compra>\n          </v-flex>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n<script>\nimport swal from \"sweetalert2\";\nimport CadDoacao from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarDoacaoModal\";\nimport CadCompra from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastrarCompraModal\";\nimport StoreInstrumento from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeInstrumento\";\nimport StoreDoacao from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeDoacao\";\nimport StoreCompra from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeCompra\";\n\nexport default {\n  components: {\n    CadDoacao,\n    CadCompra\n  },\n  data() {\n    return {\n      nome: null,\n      nomes: [],\n      naipe: null,\n      ano: null,\n      anos: [],\n      tombamento: null,\n      tombamentos: [],\n      caracteristica: null,\n      caracteristicas: [],\n      marca: null,\n      marcas: [],\n      componente: null,\n      componentes: [],\n      data_nascimento: null,\n      dialog: false,\n      observacao: \"Sem observações\",\n      editar:false\n    };\n  },\n  watch: {\n    dialog: function() {\n      if (this.dialog == true) {\n        this.Fechar();\n        this.CarregarDados();\n      }\n    }\n  },\n  methods: {\n    Editar(){\n      this.editar = true;\n    },\n    NaoEditar(){\n      this.editar = false;\n    },\n    SalvarCompraInstrumento() {\n      let Usuario = sessionStorage.getItem(\"usuario\");\n      let autorizacao = JSON.parse(Usuario);\n      this.$http\n        .post(\n          this.$url + \"Instrumento/v1\",\n          {\n            id: 0,\n            nome: this.nome.nome,\n            ano: this.ano,\n            status: \"1\",\n            aquisicao: \"2\",\n            tombamento: this.tombamento,\n            componentes: this.componente.toString(),\n            caracteristica: this.caracteristica,\n            marca: this.marca,\n            descricao: this.descricao,\n            launchDate: new Date().toISOString().substr(0, 19)\n          },\n          {\n            headers: { authorization: \"Bearer \" + autorizacao.accessToken }\n          }\n        )\n        .then(response => {\n          ////console.log(response.status);\n          if (response.status == 200) {\n            //console.log(response.data);\n            this.AtualizarStatusTombamento(this.tombamento);\n          }\n        })\n        .catch(e => {\n          //console.error(e);\n          //console.data(e.data);\n        });\n    },\n    AtualizarStatusTombamento(tombamento) {\n      let Usuario = sessionStorage.getItem(\"usuario\");\n      let autorizacao = JSON.parse(Usuario);\n      this.$http\n        .put(\n          this.$url +\n            \"TombamentoInstrumento/v1/selecionar-tombamento?tombamento=\" +\n            tombamento,\n          {\n            headers: { authorization: \"Bearer \" + autorizacao.accessToken }\n          }\n        )\n        .then(response => {\n          ////console.log(response.status);\n          if (response.status == 200) {\n            //console.log(response.data);\n          }\n        })\n        .catch(e => {\n          //console.error(e);\n          //console.data(e.data);\n        });\n    },\n    Fechar() {\n      this.ano = null;\n      this.nome = null;\n      this.tombamento = null;\n      this.marca = null;\n      this.componente = null;\n      this.caracteristica = null;\n      this.observacao = \"Sem observações\";\n    },\n    CarregarDados() {\n      StoreInstrumento.state.anos.forEach(element => {\n        this.anos.push({ id: element.id, numeroAno: element.numeroAno });\n      });\n      StoreInstrumento.state.nomes.forEach(element => {\n        this.nomes.push({\n          id: element.id,\n          nome: element.nome,\n          naipe: element.naipe\n        });\n      });\n      this.tombamentos = [];\n      this.tombamentos = StoreInstrumento.state.tombamentos;\n      //console.log(StoreInstrumento.state.tombamentos);\n      StoreInstrumento.state.marcas.forEach(element => {\n        this.marcas.push({ id: element.id, marca: element.marca });\n      });\n      StoreInstrumento.state.componentes.forEach(element => {\n        this.componentes.push({\n          id: element.id,\n          componente: element.componente\n        });\n      });\n      StoreDoacao.dispatch(\"BuscandoOrigensInstrumentos\");\n      StoreCompra.dispatch(\"BuscandoEmpresasInstrumentos\");\n    },\n    EscolherNaipe(payload) {\n      let Usuario = sessionStorage.getItem(\"usuario\");\n      let autorizacao = JSON.parse(Usuario);\n      this.$http\n        .get(\n          this.$url +\n            \"CaracteristicaInstrumento/v1/buscar-caracteristica-por-naipe?naipe=\" +\n            payload,\n          { headers: { authorization: \"Bearer \" + autorizacao.accessToken } }\n        )\n        .then(response => {\n          ////console.log(response.status);\n          if (response.status == 200) {\n            ////console.log(response.data)\n            this.caracteristicas = response.data;\n          }\n        })\n        .catch(e => {\n          //console.error(e);\n          //console.data(e.data);\n        });\n    },\n    formatDate(date) {\n      if (!date) return null;\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    }\n  }\n};\n</script>\n<style>\n.mesmo-tamanho {\n  width: 100%;\n  white-space: normal;\n}\n</style>\n"],"sourceRoot":"src/pages/Modulos/Patrimonio/Instrumento/Cadastros"}]}