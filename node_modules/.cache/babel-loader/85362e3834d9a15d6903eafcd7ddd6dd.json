{"remainingRequest":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js!/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastroNotaFiscalP.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/Web/sigadm-web/src/pages/Modulos/Patrimonio/Instrumento/Cadastros/CadastroNotaFiscalP.vue","mtime":1577225230719},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629983},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702388},{"path":"/home/joel/Projetos/Web/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710961}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// Import FilePond\nimport vueFilePond from \"vue-filepond\"; // Import plugins\n\nimport FilePondPluginFileValidateType from \"filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js\";\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js\";\nimport FilePondPluginFileRename from \"filepond-plugin-file-rename\";\nimport swal from \"sweetalert2\"; // Import styles\n\nimport \"filepond/dist/filepond.min.css\";\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\"; // Create FilePond component\n\nvar FilePond = vueFilePond(FilePondPluginFileValidateType, FilePondPluginImagePreview, FilePondPluginFileRename);\nexport default {\n  props: [\"numero_tombamento\"],\n  name: \"cadastronota\",\n  data: function data() {\n    return {\n      myFiles: [],\n      arquivos: [],\n      tipo: [\"application/pdf\"]\n    };\n  },\n  methods: {\n    Salvar: function Salvar() {\n      ////console.log(\"Salvar nota fiscal\")\n      this.$emit(\"SalvarCompra\");\n    },\n    handleFilePondInit: function handleFilePondInit() {\n      var _this = this;\n\n      //console.log(\"FilePond has initialized\");\n      // example of instance method call on pond reference\n      //console.log(this.$refs.pond.getFiles());\n      this.arquivos = this.$refs.pond.getFiles(); //console.log(JSON.stringify(this.arquivos.values()));\n\n      if (JSON.stringify(this.arquivos.values()) == \"{}\") {\n        swal.fire(\"Atenção!\", \"Precisa anexar a nota fiscal primeiro!\", \"warning\");\n      }\n\n      this.arquivos.forEach(function (element) {\n        //console.log(element.file);\n        var formData = new FormData(); //console.log(\"numero\", this.numero_tombamento);\n\n        if (_this.numero_tombamento == \"\") {\n          swal.fire(\"Atenção!\", \"O numero de tombamento precisa estar selecionado!\", \"warning\");\n        } else {\n          formData.append(\"file\", element.file, _this.numero_tombamento + \"-\" + element.filename); //console.log(\"EXTESAO DO ARQUIVO TESTE: \", element.fileExtension);\n          //console.log( \"NOME SEM EXTENSAO DO ARQUIVO TESTE: \",   element.filenameWithoutExtension     );\n        } //console.log(formData.getAll(\"file\"));\n\n\n        var autorizacaoAux = sessionStorage.getItem(\"usuario\");\n\n        if (autorizacaoAux && _this.numero_tombamento != \"\") {\n          _this.autorizacao = JSON.parse(autorizacaoAux); //console.log(\"entrou no anexar nota fiscal\");\n\n          _this.$http.post(_this.$url + \"CompraInstrumento/v1/salvar-notafiscal-instrumento\", formData, {\n            headers: {\n              authorization: \"Bearer \" + _this.autorizacao.accessToken\n            }\n          }).then(function (response) {\n            if (response.status == 200) {\n              _this.dialog = false;\n              swal.fire({\n                type: \"success\",\n                title: \"Anexado com sucesso\",\n                text: \"Anexe novamente outro documento para substituir esse, se necessário..\"\n              }); //console.log(response.data);\n\n              _this.$emit(\"path_nota\", {\n                path: response.data\n              });\n\n              _this.$emit(\"cadastrarCompra\");\n            } else if (response.status == 401) {} else if (response.status == 500) {} ////console.log(response.data);\n\n          }).catch(function (e) {\n            swal.fire(\"Sua autorização expirou!\", \"Entre com suas credencias novamente.\", \"warning\");\n\n            _this.$router.push(\"/\"); //console.error(e);\n            //console.data(e.data);\n\n          });\n        }\n      });\n    }\n  },\n  components: {\n    FilePond: FilePond\n  }\n};",{"version":3,"sources":["CadastroNotaFiscalP.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-layout>\n    <v-flex xs12 sm12 md4 lg4 offset-md4 offset-lg4>\n      <v-layout>\n        <v-flex xs12 sm12>\n          <v-hover>\n            <v-card slot-scope=\"{ hover }\" :class=\"`elevation-${hover ? 12 : 2}`\" class=\"mx-auto\">\n              <v-card-title primary-title>\n                <div>\n                  <h3 class=\"subheading text-uppercase mb-0\">NOTA FISCAL</h3>\n                </div>\n              </v-card-title>\n              <v-card-text>\n                <span id=\"cadastrotermos\">\n                  <file-pond\n                    style=\"cursor:pointer\"\n                    name=\"test\"\n                    ref=\"pond\"\n                    class-name=\"my-pond\"\n                    label-idle=\"Anexar aqui\"\n                    :accepted-file-types=\"tipo\"\n                    v-bind:files=\"myFiles\"\n                    labelFileTypeNotAllowed=\"NÃO ACEITO\"\n                    fileValidateTypeLabelExpectedTypes=\"É esperado um PDF\"\n                  ></file-pond>\n                </span>\n              </v-card-text>\n            </v-card>\n          </v-hover>\n        </v-flex>\n      </v-layout>\n      <!--\n    <v-flex xs12 sm12 md12 lg12 align-center>\n      <v-btn        \n        color=\"green darken-4\"\n        dark\n        v-on:click=\"handleFilePondInit\"\n      >\n        SALVAR INSTRUMENTO\n      </v-btn>\n      </v-flex>-->\n      <v-flex xs12 sm12 md12 lg12 align-center>\n        <v-btn color=\"green darken-4\" dark @click=\"Salvar\">SALVAR INSTRUMENTO</v-btn>\n      </v-flex>\n    </v-flex>\n  </v-layout>\n</template>  \n  <script>\n// Import FilePond\nimport vueFilePond from \"vue-filepond\";\n\n// Import plugins\nimport FilePondPluginFileValidateType from \"filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js\";\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js\";\nimport FilePondPluginFileRename from \"filepond-plugin-file-rename\";\nimport swal from \"sweetalert2\";\n\n// Import styles\nimport \"filepond/dist/filepond.min.css\";\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\";\n\n// Create FilePond component\nconst FilePond = vueFilePond(\n  FilePondPluginFileValidateType,\n  FilePondPluginImagePreview,\n  FilePondPluginFileRename\n);\n\nexport default {\n  props: [\"numero_tombamento\"],\n  name: \"cadastronota\",\n  data: function() {\n    return { myFiles: [], arquivos: [], tipo: [\"application/pdf\"] };\n  },\n  methods: {\n    Salvar(){\n      ////console.log(\"Salvar nota fiscal\")\n      this.$emit(\"SalvarCompra\");\n    },\n    handleFilePondInit: function() {\n      //console.log(\"FilePond has initialized\");\n\n      // example of instance method call on pond reference\n      //console.log(this.$refs.pond.getFiles());\n      this.arquivos = this.$refs.pond.getFiles();\n      //console.log(JSON.stringify(this.arquivos.values()));\n      if (JSON.stringify(this.arquivos.values()) == \"{}\") {\n        swal.fire(\n          \"Atenção!\",\n          \"Precisa anexar a nota fiscal primeiro!\",\n          \"warning\"\n        );\n      }\n      this.arquivos.forEach(element => {\n        //console.log(element.file);\n        let formData = new FormData();\n        //console.log(\"numero\", this.numero_tombamento);\n        if (this.numero_tombamento == \"\") {\n          swal.fire(\n            \"Atenção!\",\n            \"O numero de tombamento precisa estar selecionado!\",\n            \"warning\"\n          );\n        } else {\n          formData.append(\n            \"file\",\n            element.file,\n            this.numero_tombamento + \"-\" + element.filename\n          );\n          //console.log(\"EXTESAO DO ARQUIVO TESTE: \", element.fileExtension);\n          //console.log( \"NOME SEM EXTENSAO DO ARQUIVO TESTE: \",   element.filenameWithoutExtension     );\n        }\n        //console.log(formData.getAll(\"file\"));\n\n        let autorizacaoAux = sessionStorage.getItem(\"usuario\");\n        if (autorizacaoAux && this.numero_tombamento != \"\") {\n          this.autorizacao = JSON.parse(autorizacaoAux);\n          //console.log(\"entrou no anexar nota fiscal\");\n          this.$http\n            .post(\n              this.$url + \"CompraInstrumento/v1/salvar-notafiscal-instrumento\",\n              formData,\n              {\n                headers: {\n                  authorization: \"Bearer \" + this.autorizacao.accessToken\n                }\n              }\n            )\n            .then(response => {\n              if (response.status == 200) {\n                this.dialog = false;\n                swal.fire({\n                  type: \"success\",\n                  title: \"Anexado com sucesso\",\n                  text:\n                    \"Anexe novamente outro documento para substituir esse, se necessário..\"\n                });\n                //console.log(response.data);\n                this.$emit(\"path_nota\", { path: response.data });\n                this.$emit(\"cadastrarCompra\");\n              } else if (response.status == 401) {\n              } else if (response.status == 500) {\n              }\n              ////console.log(response.data);\n            })\n            .catch(e => {\n              swal.fire(\n                \"Sua autorização expirou!\",\n                \"Entre com suas credencias novamente.\",\n                \"warning\"\n              );\n              this.$router.push(\"/\");\n              //console.error(e);\n              //console.data(e.data);\n            });\n        }\n      });\n    }\n  },\n  components: {\n    FilePond\n  }\n};\n</script>\n  <style  type=\"text/css\">\n/* the text color of the drop label*/\n.filepond--drop-label {\n  color: white;\n}\n.filepond--panel-root {\n  background-color: rgb(54, 64, 119);\n}\n</style>\n  \n  "],"sourceRoot":"src/pages/Modulos/Patrimonio/Instrumento/Cadastros"}]}