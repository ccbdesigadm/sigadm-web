{"remainingRequest":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/babel-loader/lib/index.js!/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/SolicitacoesEmprestimo/Editar/AtenderSolicitacaoEmprestimoModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/src/pages/Modulos/Patrimonio/SolicitacoesEmprestimo/Editar/AtenderSolicitacaoEmprestimoModal.vue","mtime":1578311985000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/babel-loader/lib/index.js","mtime":1569691629000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/cache-loader/dist/cjs.js","mtime":1569691702000},{"path":"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1569691710000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"/home/joel/Projetos/sigadm-team/sigadm-web/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport swal from \"sweetalert2\";\nimport EmprestimoModal from \"@/pages/Modulos/Patrimonio/Instrumento/Emprestimo/EmprestimoModal\";\nimport StoreInstrumento from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeInstrumento\";\nexport default {\n  props: [\"statusSolicitacao\", \"irmao\", \"solicitacao\", \"instrumento_um\", \"instrumento_dois\"],\n  components: {\n    EmprestimoModal: EmprestimoModal\n  },\n  data: function data() {\n    return {\n      buscando_instrumentos: true,\n      dados_obrigatorios_irmao: true,\n      dados_obrigatorios_solicitacao: true,\n      comum_obrigatorio: true,\n      e6: 1,\n      dialog: false,\n      modal: false,\n      radios: 1,\n      dialog_dataCadastro_modal: null,\n      modal_dataCadastro: false,\n      data_cadastro: new Date().toISOString().substr(0, 10),\n      procurar: \"\",\n      pagination: {\n        descending: false,\n        page: 1,\n        rowsPerPage: -1,\n        totalItems: 0,\n        rowsPerPageItems: [1, 2, 4, 8, 16]\n      },\n      headers: [{\n        text: \"TOMBAMENTO\",\n        value: \"tombamento\",\n        class: \"blue darken-3 white--text\"\n      }, {\n        text: \"NOME\",\n        value: \"nome\",\n        class: \"blue darken-3 white--text\"\n      }, {\n        text: \"CARACTERÍSTICA/TONALIDADE\",\n        value: \"caracteristica\",\n        align: \"center\",\n        class: \"blue darken-3 white--text\"\n      }, {\n        class: \"blue darken-3 white--text\",\n        sortable: false\n      }],\n      instrumentos_tipo_um: [],\n      instrumentos_tipo_dois: [],\n      instrumentos: []\n    };\n  },\n  computed: {\n    computedDateFormatted: function computedDateFormatted() {\n      return this.formatDate(this.data_cadastro);\n    }\n  },\n  watch: {\n    date: function date(val) {\n      this.dateFormatted = this.formatDate(this.data_cadastro);\n    }\n  },\n  methods: {\n    buscarInstrumentos: function buscarInstrumentos(nome_um, nome_dois) {\n      var _this = this;\n\n      this.instrumentos = [];\n      var usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http.get(this.$url + \"Instrumento/v1\", {\n        headers: {\n          authorization: \"Bearer \" + this.autorizacao.accessToken\n        }\n      }).then(function (response) {\n        if (response.status == 200) {\n          response.data.forEach(function (element) {\n            if (element.status == \"1\") {\n              if (element.nome == nome_um || element.nome == nome_dois) {\n                console.log(element);\n\n                _this.instrumentos.push(element);\n              }\n            }\n          });\n        }\n      }).catch(function (e) {});\n      this.buscando_instrumentos = false;\n    },\n    buscarInstrumento_dois: function buscarInstrumento_dois(nome_instrumento) {\n      var _this2 = this;\n\n      var usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http.get(this.$url + \"Instrumento/v1/instrumentos?nome=\" + nome_instrumento, {\n        headers: {\n          authorization: \"Bearer \" + this.autorizacao.accessToken\n        }\n      }).then(function (response) {\n        if (response.status == 200) {\n          response.data.forEach(function (element) {\n            _this2.instrumentos.push(element);\n          });\n        }\n      }).catch(function (e) {});\n    },\n    Emprestar: function Emprestar(nome, tombamento) {\n      var _this3 = this;\n\n      var swalWithBootstrapButtons = swal.mixin({\n        confirmButtonClass: \"btn  btn-success\",\n        cancelButtonClass: \"btn btn-danger\",\n        buttonsStyling: true\n      });\n      return swalWithBootstrapButtons({\n        title: \"Deseja emprestar  \" + nome + \" - \" + tombamento + \" ?\",\n        text: \"\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Sim\",\n        cancelButtonText: \"Não\",\n        reverseButtons: true\n      }).then(function (result) {\n        if (result.value) {\n          _this3.Salvo(\"Atendimento realizado com sucesso!\", \"O irmão \" + _this3.irmao + \" agora é responsável pelo instrumento <br>\" + nome + \" - \" + tombamento, \"success\");\n        } else if ( // Read more about handling dismissals\n        result.dismiss === swal.DismissReason.cancel) {}\n      });\n    },\n    Instrumento: function Instrumento() {\n      console.log(this.radios);\n    },\n    AlertaMixin: function AlertaMixin(type, title, time) {\n      var Toast = swal.mixin({\n        toast: true,\n        position: \"top\",\n        showConfirmButton: false,\n        timer: time\n      });\n      Toast.fire({\n        type: type,\n        title: title\n      });\n    },\n    Mostrar: function Mostrar() {//console.log(this.solicitacao)\n    },\n    SalvarStatusAprovadoSolicitacaoEmprestimo: function SalvarStatusAprovadoSolicitacaoEmprestimo() {\n      var _this4 = this;\n\n      var usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http.put(this.$url + \"SolicitacaoEmprestimo/v1\", {\n        id: this.solicitacao.id,\n        nome: this.solicitacao.nome,\n        irmao: this.solicitacao.irmao,\n        comumCongregacao: this.solicitacao.comumCongregacao,\n        primeiroInstrumento: this.solicitacao.primeiroInstrumento,\n        primeiraCategoria: this.solicitacao.primeiraCategoria,\n        segundoInstrumento: this.solicitacao.segundoInstrumento,\n        segundaCategoria: this.solicitacao.segundaCategoria,\n        dataCadastro: this.solicitacao.dataCadastro,\n        status: \"Aprovado\",\n        launchDate: this.solicitacao.launcDate\n      }, {\n        headers: {\n          authorization: \"Bearer \" + this.autorizacao.accessToken\n        }\n      }).then(function (response) {\n        if (response.status == 200) {\n          //console.log(\"Solicitação de empréstimo salva com sucesso\");\n          var irmao = response.data;\n\n          _this4.$emit(\"solicitacaoSalva\");\n        } //console.log(response.data);\n\n      }).catch(function (e) {//console.error(e);\n        //console.data(e.data);\n      });\n    },\n    SalvarStatusNaoAutorizadoSolicitacaoEmprestimo: function SalvarStatusNaoAutorizadoSolicitacaoEmprestimo() {\n      var _this5 = this;\n\n      var usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http.put(this.$url + \"SolicitacaoEmprestimo/v1\", {\n        id: this.solicitacao.id,\n        nome: this.solicitacao.nome,\n        comumCongregacao: this.solicitacao.comumCongregacao,\n        primeiroInstrumento: this.solicitacao.primeiroInstrumento,\n        primeiraCategoria: this.solicitacao.primeiraCategoria,\n        segundoInstrumento: this.solicitacao.segundoInstrumento,\n        segundaCategoria: this.solicitacao.segundaCategoria,\n        dataCadastro: this.solicitacao.dataCadastro,\n        status: \"Não aprovado\",\n        launchDate: this.solicitacao.launcDate\n      }, {\n        headers: {\n          authorization: \"Bearer \" + this.autorizacao.accessToken\n        }\n      }).then(function (response) {\n        if (response.status == 200) {\n          //console.log(\"Solicitação de empréstimo salva com sucesso\");\n          var irmao = response.data;\n\n          _this5.$emit(\"solicitacaoSalva\");\n        } //console.log(response.data);\n\n      }).catch(function (e) {//console.error(e);\n        //console.data(e.data);\n      });\n    },\n    Loading: function Loading(title, icon) {\n      swal.fire({\n        title: title,\n        html: \"Por favor só um momento... \" + '<i class=\"fas fa-' + icon + \"></i>\",\n        timer: 3000,\n        onOpen: function onOpen() {\n          swal.enableLoading();\n        }\n      });\n    },\n    Salvo: function Salvo(title, msg, type) {\n      swal.fire(title, msg, type);\n    },\n    formatDate: function formatDate(date) {\n      if (!date) return null;\n\n      var _date$split = date.split(\"-\"),\n          _date$split2 = _slicedToArray(_date$split, 3),\n          year = _date$split2[0],\n          month = _date$split2[1],\n          day = _date$split2[2];\n\n      return \"\".concat(day, \"/\").concat(month, \"/\").concat(year);\n    },\n    cpf: function cpf() {\n      var _this6 = this;\n\n      if (this.cpf.length == 11) {\n        var usuarioAutorize = sessionStorage.getItem(\"usuario\");\n        this.autorizacao = JSON.parse(usuarioAutorize);\n        this.$http.get(this.$url + \"Usuario/v1/\" + this.cpf, {\n          headers: {\n            authorization: \"Bearer \" + this.autorizacao.accessToken\n          }\n        }).then(function (response) {\n          if (response.status == 200) {\n            var irmao = response.data;\n            console.log(irmao.numero);\n\n            if (irmao.id == null) {\n              _this6.irmao_cadastrado = false;\n\n              _this6.AlertaMixin(\"warning\", \"Irmão não se encontra cadastrado no sistema\", 4000);\n            } else {\n              _this6.$http.get(_this6.$url + \"UsuarioIgreja/v1/usuario-por-id?id=\" + irmao.id, {\n                headers: {\n                  authorization: \"Bearer \" + _this6.autorizacao.accessToken\n                }\n              }).then(function (response) {\n                if (response.status == 200) {\n                  _this6.$http.get(_this6.$url + \"Igreja/v1/\" + response.data.idIgreja, {\n                    headers: {\n                      authorization: \"Bearer \" + _this6.autorizacao.accessToken\n                    }\n                  }).then(function (response) {\n                    if (response.status == 200) {\n                      _this6.nome = irmao.nome;\n                      _this6.bairro = irmao.bairro;\n                      _this6.cep = irmao.cep;\n                      _this6.cidade = irmao.cidade;\n                      _this6.complemento = irmao.complemento;\n                      _this6.ddd = irmao.ddd;\n                      _this6.numero = irmao.numero;\n                      _this6.rua = irmao.rua;\n                      _this6.telefone = irmao.telefone;\n                      _this6.cargo = irmao.cargo;\n                      _this6.data_nascimento = irmao.nascimento.substr(0, 10);\n                      _this6.congregacao = response.data.cidade + \" - \" + response.data.bairro + \" - \" + response.data.codigo;\n                    }\n                  }).catch(function (e) {});\n                }\n              }).catch(function (e) {\n                /*/console.error(e);//console.data(e.data);*/\n              });\n            }\n          }\n        }).catch(function (e) {\n          /*console.error(e); //console.data(e.data);*/\n        });\n      }\n    },\n    fecharDialog: function fecharDialog() {\n      this.dialog = false;\n      this.$emit(\"emprestimo_sucesso\");\n    }\n  }\n};",{"version":3,"sources":["AtenderSolicitacaoEmprestimoModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-layout>\n    <v-dialog v-model=\"dialog\"  max-width=\"820px\">\n      <v-btn\n        flat\n        color=\"success\"\n        v-if=\"statusSolicitacao == 'Aprovado'\"\n        @click=\"Mostrar, buscarInstrumentos(instrumento_um, instrumento_dois)\"\n        slot=\"activator\"\n      >\n        <v-icon small left>fas fa-check</v-icon>\n        <small>Atender</small>\n      </v-btn>\n      <v-card>\n        <v-flex xs12 sm12>\n          <div class=\"pt-1\">\n            <v-btn\n              right\n              class=\"white--text\"\n              small\n              fab\n              round\n              box\n              color=\"red darken-1\"\n              absolute\n              v-on:click=\"dialog = false\"\n            >\n              <v-icon>close</v-icon>\n            </v-btn>\n          </div>\n        </v-flex>\n        <v-card-title>\n          <v-flex xs12 sm12 md12 lg12 pt-1 align-center>\n            <span\n              class=\"font-weight-bold headline blue--text text--darken-4\"\n            >Instrumentos disponíveis para atendimento</span>\n          </v-flex>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs4 sm5 md5 lg5 class=\"pl-4\">\n                <v-hover>\n                  <v-text-field\n                    v-model=\"procurar\"\n                    append-icon=\"search\"\n                    label=\"Procurar instrumento ...\"\n                    color=\"blue darken-4\"\n                    hide-details\n                  ></v-text-field>\n                </v-hover>\n              </v-flex>\n              <v-flex sm12 md12 lg12>\n                <v-data-table\n                  :search=\"procurar\"\n                  :headers=\"headers\"\n                  :pagination.sync=\"pagination\"\n                  :items=\"instrumentos\"\n                  :item-key=\"instrumentos.id\"\n                  class=\"elevation-0 mt-5\"\n                  :loading=\"buscando_instrumentos\"\n                  loading-text=\"Loading... Please wait\"\n                >\n                  <template slot=\"items\" slot-scope=\"props\" class=\"mb-3\">\n                    <td>{{props.item.tombamento}}</td>\n                    <td>{{ props.item.nome }}</td>\n                    <td>\n                      <center>{{ props.item.caracteristica }}</center>\n                    </td>\n                    <td>\n                      <center>\n                        <emprestimo-modal\n                          v-bind:numero_do_tombamento=\"props.item.tombamento\"\n                          v-bind:numero_do_instrumento=\"props.item.id\"\n                          v-bind:irmao=\"irmao\"\n                          v-bind:instrumento=\"props.item\"\n                          v-bind:nome_instrumento=\"props.item.nome\"\n                          v-bind:solicitacao=\"solicitacao\"\n                          @emprestimo_sucesso=\"fecharDialog()\"\n                        ></emprestimo-modal>\n                      </center>\n                    </td>\n                  </template>\n                </v-data-table>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n</template>\n<script>\nimport swal from \"sweetalert2\";\nimport EmprestimoModal from \"@/pages/Modulos/Patrimonio/Instrumento/Emprestimo/EmprestimoModal\";\n\nimport StoreInstrumento from \"@/pages/Modulos/Patrimonio/Instrumento/Cadastros/store/storeInstrumento\";\n\nexport default {\n  props: [\n    \"statusSolicitacao\",\n    \"irmao\",\n    \"solicitacao\",\n    \"instrumento_um\",\n    \"instrumento_dois\"\n  ],\n  components: { EmprestimoModal },\n  data() {\n    return {\n      buscando_instrumentos: true,\n      dados_obrigatorios_irmao: true,\n      dados_obrigatorios_solicitacao: true,\n      comum_obrigatorio: true,\n      e6: 1,\n      dialog: false,\n      modal: false,\n      radios: 1,\n      dialog_dataCadastro_modal: null,\n      modal_dataCadastro: false,\n      data_cadastro: new Date().toISOString().substr(0, 10),\n      procurar: \"\",\n      pagination: {\n        descending: false,\n        page: 1,\n        rowsPerPage: -1,\n        totalItems: 0,\n        rowsPerPageItems: [1, 2, 4, 8, 16]\n      },\n      headers: [\n        {\n          text: \"TOMBAMENTO\",\n          value: \"tombamento\",\n          class: \"blue darken-3 white--text\"\n        },\n        { text: \"NOME\", value: \"nome\", class: \"blue darken-3 white--text\" },\n        {\n          text: \"CARACTERÍSTICA/TONALIDADE\",\n          value: \"caracteristica\",\n          align: \"center\",\n          class: \"blue darken-3 white--text\"\n        },\n        { class: \"blue darken-3 white--text\", sortable: false }\n      ],\n      instrumentos_tipo_um: [],\n      instrumentos_tipo_dois: [],\n      instrumentos: []\n    };\n  },\n  computed: {\n    computedDateFormatted() {\n      return this.formatDate(this.data_cadastro);\n    }\n  },\n  watch: {\n    date(val) {\n      this.dateFormatted = this.formatDate(this.data_cadastro);\n    }\n  },\n  methods: {\n    buscarInstrumentos(nome_um, nome_dois) {\n      this.instrumentos = [];\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http\n        .get(this.$url + \"Instrumento/v1\", {\n          headers: { authorization: \"Bearer \" + this.autorizacao.accessToken }\n        })\n        .then(response => {\n          if (response.status == 200) {\n            response.data.forEach(element => {\n              if (element.status == \"1\") {\n                if (element.nome == nome_um || element.nome == nome_dois) {\n                  console.log(element);\n                  this.instrumentos.push(element);\n                }\n              }\n            });\n          }\n        })\n        .catch(e => {});\n      this.buscando_instrumentos = false;\n    },\n    buscarInstrumento_dois(nome_instrumento) {\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http\n        .get(\n          this.$url + \"Instrumento/v1/instrumentos?nome=\" + nome_instrumento,\n          {\n            headers: { authorization: \"Bearer \" + this.autorizacao.accessToken }\n          }\n        )\n        .then(response => {\n          if (response.status == 200) {\n            response.data.forEach(element => {\n              this.instrumentos.push(element);\n            });\n          }\n        })\n        .catch(e => {});\n    },\n    Emprestar(nome, tombamento) {\n      const swalWithBootstrapButtons = swal.mixin({\n        confirmButtonClass: \"btn  btn-success\",\n        cancelButtonClass: \"btn btn-danger\",\n        buttonsStyling: true\n      });\n\n      return swalWithBootstrapButtons({\n        title: \"Deseja emprestar  \" + nome + \" - \" + tombamento + \" ?\",\n        text: \"\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Sim\",\n        cancelButtonText: \"Não\",\n        reverseButtons: true\n      }).then(result => {\n        if (result.value) {\n          this.Salvo(\n            \"Atendimento realizado com sucesso!\",\n            \"O irmão \" +\n              this.irmao +\n              \" agora é responsável pelo instrumento <br>\" +\n              nome +\n              \" - \" +\n              tombamento,\n            \"success\"\n          );\n        } else if (\n          // Read more about handling dismissals\n          result.dismiss === swal.DismissReason.cancel\n        ) {\n        }\n      });\n    },\n    Instrumento() {\n      console.log(this.radios);\n    },\n    AlertaMixin(type, title, time) {\n      const Toast = swal.mixin({\n        toast: true,\n        position: \"top\",\n        showConfirmButton: false,\n        timer: time\n      });\n\n      Toast.fire({\n        type: type,\n        title: title\n      });\n    },\n    Mostrar() {\n      //console.log(this.solicitacao)\n    },\n    SalvarStatusAprovadoSolicitacaoEmprestimo() {\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n\n      this.$http\n        .put(\n          this.$url + \"SolicitacaoEmprestimo/v1\",\n          {\n            id: this.solicitacao.id,\n            nome: this.solicitacao.nome,\n            irmao: this.solicitacao.irmao,\n            comumCongregacao: this.solicitacao.comumCongregacao,\n            primeiroInstrumento: this.solicitacao.primeiroInstrumento,\n            primeiraCategoria: this.solicitacao.primeiraCategoria,\n            segundoInstrumento: this.solicitacao.segundoInstrumento,\n            segundaCategoria: this.solicitacao.segundaCategoria,\n            dataCadastro: this.solicitacao.dataCadastro,\n            status: \"Aprovado\",\n            launchDate: this.solicitacao.launcDate\n          },\n          {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          }\n        )\n        .then(response => {\n          if (response.status == 200) {\n            //console.log(\"Solicitação de empréstimo salva com sucesso\");\n            let irmao = response.data;\n            this.$emit(\"solicitacaoSalva\");\n          }\n          //console.log(response.data);\n        })\n        .catch(e => {\n          //console.error(e);\n          //console.data(e.data);\n        });\n    },\n    SalvarStatusNaoAutorizadoSolicitacaoEmprestimo() {\n      let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n      this.autorizacao = JSON.parse(usuarioAutorize);\n      this.$http\n        .put(\n          this.$url + \"SolicitacaoEmprestimo/v1\",\n          {\n            id: this.solicitacao.id,\n            nome: this.solicitacao.nome,\n            comumCongregacao: this.solicitacao.comumCongregacao,\n            primeiroInstrumento: this.solicitacao.primeiroInstrumento,\n            primeiraCategoria: this.solicitacao.primeiraCategoria,\n            segundoInstrumento: this.solicitacao.segundoInstrumento,\n            segundaCategoria: this.solicitacao.segundaCategoria,\n            dataCadastro: this.solicitacao.dataCadastro,\n            status: \"Não aprovado\",\n            launchDate: this.solicitacao.launcDate\n          },\n          {\n            headers: {\n              authorization: \"Bearer \" + this.autorizacao.accessToken\n            }\n          }\n        )\n        .then(response => {\n          if (response.status == 200) {\n            //console.log(\"Solicitação de empréstimo salva com sucesso\");\n            let irmao = response.data;\n            this.$emit(\"solicitacaoSalva\");\n          }\n          //console.log(response.data);\n        })\n        .catch(e => {\n          //console.error(e);\n          //console.data(e.data);\n        });\n    },\n    Loading(title, icon) {\n      swal.fire({\n        title: title,\n        html:\n          \"Por favor só um momento... \" + '<i class=\"fas fa-' + icon + \"></i>\",\n        timer: 3000,\n        onOpen: () => {\n          swal.enableLoading();\n        }\n      });\n    },\n    Salvo(title, msg, type) {\n      swal.fire(title, msg, type);\n    },\n    formatDate(date) {\n      if (!date) return null;\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    },\n    cpf: function() {\n      if (this.cpf.length == 11) {\n        let usuarioAutorize = sessionStorage.getItem(\"usuario\");\n        this.autorizacao = JSON.parse(usuarioAutorize);\n        this.$http\n          .get(this.$url + \"Usuario/v1/\" + this.cpf, {\n            headers: { authorization: \"Bearer \" + this.autorizacao.accessToken }\n          })\n          .then(response => {\n            if (response.status == 200) {\n              let irmao = response.data;\n              console.log(irmao.numero);\n              if (irmao.id == null) {\n                this.irmao_cadastrado = false;\n                this.AlertaMixin(\n                  \"warning\",\n                  \"Irmão não se encontra cadastrado no sistema\",\n                  4000\n                );\n              } else {\n                this.$http\n                  .get(\n                    this.$url +\n                      \"UsuarioIgreja/v1/usuario-por-id?id=\" +\n                      irmao.id,\n                    {\n                      headers: {\n                        authorization: \"Bearer \" + this.autorizacao.accessToken\n                      }\n                    }\n                  )\n                  .then(response => {\n                    if (response.status == 200) {\n                      this.$http\n                        .get(\n                          this.$url + \"Igreja/v1/\" + response.data.idIgreja,\n                          {\n                            headers: {\n                              authorization:\n                                \"Bearer \" + this.autorizacao.accessToken\n                            }\n                          }\n                        )\n                        .then(response => {\n                          if (response.status == 200) {\n                            this.nome = irmao.nome;\n                            this.bairro = irmao.bairro;\n                            this.cep = irmao.cep;\n                            this.cidade = irmao.cidade;\n                            this.complemento = irmao.complemento;\n                            this.ddd = irmao.ddd;\n\n                            this.numero = irmao.numero;\n                            this.rua = irmao.rua;\n                            this.telefone = irmao.telefone;\n                            this.cargo = irmao.cargo;\n                            this.data_nascimento = irmao.nascimento.substr(\n                              0,\n                              10\n                            );\n                            this.congregacao =\n                              response.data.cidade +\n                              \" - \" +\n                              response.data.bairro +\n                              \" - \" +\n                              response.data.codigo;\n                          }\n                        })\n                        .catch(e => {});\n                    }\n                  })\n                  .catch(e => {\n                    /*/console.error(e);//console.data(e.data);*/\n                  });\n              }\n            }\n          })\n          .catch(e => {\n            /*console.error(e); //console.data(e.data);*/\n          });\n      }\n    },\n    fecharDialog() {\n      this.dialog = false;\n      this.$emit(\"emprestimo_sucesso\");\n    }\n  }\n};\n</script>\n<style>\n.mesmo-tamanho {\n  width: 100%;\n  white-space: normal;\n}\n</style>\n"],"sourceRoot":"src/pages/Modulos/Patrimonio/SolicitacoesEmprestimo/Editar"}]}